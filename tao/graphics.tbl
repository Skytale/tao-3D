// ****************************************************************************
//  graphics.tbl                                                    Tao project
// ****************************************************************************
//
//   File Description:
//
//     List of basic entry points used to create Tao documents
//
//
//
//
//
//
//
//
// ****************************************************************************
// This software is property of Taodyne SAS - Confidential
// Ce logiciel est la propriété de Taodyne SAS - Confidentiel
//  (C) 1992-2010 Christophe de Dinechin <christophe@taodyne.com>
//  (C) 2010 Lionel Schaffhauser <lionel@taodyne.com>
//  (C) 2010 Catherine Burvelle <catherine@todyne.com>
//  (C) 2010 Taodyne SAS
// ****************************************************************************

// ============================================================================
//
// Getting attributes
//
// ============================================================================

PREFIX(WindowSize, tree, "window_size",
       PARM(w, integer, "Width of the window.")
       PARM(h, integer, "Height of the window."),
       RTAO(windowSize(self, w, h)),
       GROUP(page)
       SYNOPSIS("Resize the window to the specified width and height."))

PREFIX(ShowHide, tree, "show",
       PARM(amount, real, "Amount of global transparency"),
       RTAO(visibility(self, amount)),
       GROUP(page)
       SYNOPSIS("Show or hide elements"))

PREFIX(Page, text, "page",
       PARM(name, text, "Name of the page.")
       PARM(body, code, "Content of the page."),
       RTAO(page(context, name, body)),
       GROUP(page)
       SYNOPSIS("Create a page in a document.")
       DESCRIPTION("Create a new page in the document with the given name, "
                   "or add to the content of a previously created page. "
                   "The body contents will be evaluated only when the page "
                   "is being displayed. The order of pages in the document "
                   "is the order of page creation.")
       RETURNS(text, "The name of the previous page"))
PREFIX(PageLink, text,  "page_link",
       PARM(key, text, "Key used to change pages")
       PARM(name, text, "The name of the page to link"),
       RTAO(pageLink(self, key, name)),
       GROUP(page)
       SYNOPSIS("Link other pages to the current page")
       DESCRIPTION("Links the key with the named page.")
       RETURNS(text, "The name of the page previously linked to this key."))
PREFIX(GotoPage,  text,  "goto_page",
       PARM(p, text, ""),
       RTAO(gotoPage(self, p)),
       GROUP(page)
       SYNOPSIS("Directly go to the given page.")
       DESCRIPTION("Directly go to the given page.")
       RETURNS(text, "The name of the previously shown page."))
PREFIX(PageLabel,    text,      "page_label", , RTAO(pageLabel(self)),
       GROUP(page)
       SYNOPSIS("The current page name.")
       DESCRIPTION("Return the current page name")
       RETURNS(text, "Return the label of the current page"))
PREFIX(PageId,       integer,   "page_number", , RTAO(pageNumber(self)),
       GROUP(page)
       SYNOPSIS("The current page number")
       DESCRIPTION("Return the number of the current page")
       RETURNS(integer, "Return the number of the current page"))
PREFIX(PageCount,    integer,   "page_count", , RTAO(pageCount(self)),
       GROUP(page)
       SYNOPSIS("The number of page.")
       DESCRIPTION("Return the number of pages in the current document")
       RETURNS(integer, "The number of pages in the current document"))
PREFIX(PageName,    text,   "page_name",
       PARM(n, integer, "Index of page, starting at 0"),
       RTAO(pageNameAtIndex(self, n)),
       GROUP(page)
       SYNOPSIS("The name of the nth page.")
       DESCRIPTION("Return the name of a page given its index")
       RETURNS(text, "The name of the nth page"))

PREFIX(PageWidth,    real,      "page_width", , RTAO(pageWidth(self)),
       GROUP(page)
       SYNOPSIS("Return the width of pages")
       DESCRIPTION("Return the width of pages")
       RETURNS(real, "Return the width of pages"))
PREFIX(PageHeight,   real,      "page_height", , RTAO(pageHeight(self)),
       GROUP(page)
       SYNOPSIS("Return the height of pages")
       DESCRIPTION("Return the height of pages")
       RETURNS(real, "Return the height of pages"))

PREFIX(PagePrintTime,  real,  "page_print_time",
       PARM(t, real, ),
       RTAO(pageSetPrintTime(self, t)),
       GROUP(page)
       SYNOPSIS("Set the freeze time used when printing.")
       DESCRIPTION("Set the time used when printing pages")
       RETURNS(real, "Previous time used for printing"))
PREFIX(PageThumbnail, tree, "page_thumbnail",
       PARM(s, real, "Scaling of the thumbnail")
       PARM(i, real, "Refresh interval")
       PARM(p, text, "Page name"),
       RTAO(thumbnail(context, self, s, i, p)),
       GROUP(page)
       SYNOPSIS("Generate a page thumbnail as a texture"))
PREFIX(OffLineRendering, boolean, "offline_rendering", , RTAO(offlineRendering(self)),
       GROUP(page)
       SYNOPSIS("Return true if we are currently rendering to file")
       DESCRIPTION("")
       RETURNS(boolean, "Return the offline rendering status"))

PREFIX(FrameWidth,   real,      "frame_width", , RTAO(frameWidth(self)),
       GROUP(frame)
       SYNOPSIS("Return the width of the current layout frame")
       DESCRIPTION("Return the width of the current layout frame")
       RETURNS(real, "Return the width of the current layout frame"))
PREFIX(FrameHeight,  real,      "frame_height", , RTAO(frameHeight(self)),
       GROUP(frame)
       SYNOPSIS("Return the height of the current layout frame")
       DESCRIPTION("Return the height of the current layout frame")
       RETURNS(real, "Return the height of the current layout frame"))
PREFIX(FrameDepth,   real,      "frame_depth", , RTAO(frameDepth(self)),
       GROUP(frame)
       SYNOPSIS("Return the depth of the current layout frame")
       DESCRIPTION("Return the depth of the current layout frame")
       RETURNS(real, "Return the depth of the current layout frame"))
PREFIX(WindowWidth,  real,      "window_width", ,
       RTAO(windowWidth(self)),
       GROUP(window)
       SYNOPSIS("Return the width of the window in which we display")
       DESCRIPTION("Return the width of the window in which we display")
       RETURNS(real, "Return the width of the window in which we display"))
PREFIX(WindowHeight, real,      "window_height", , RTAO(windowHeight(self)),
       GROUP(window)
       SYNOPSIS("Return the height of window in which we display")
       DESCRIPTION("Return the height of window in which we display")
       RETURNS(real, "Return the height of window in which we display"))
PREFIX(TimeSeconds, integer,  "seconds", PARM(t, real, ), RTAO(seconds(self, t)),
       GROUP(time) SYNOPSIS("Extract seconds from timestamp"))
PREFIX(TimeMinutes, integer,  "minutes", PARM(t, real, ), RTAO(minutes(self, t)),
       GROUP(time) SYNOPSIS("Extract minutes (local time) from timestamp"))
PREFIX(TimeHours,   integer,  "hours", PARM(t, real, ), RTAO(hours(self, t)),
       GROUP(time) SYNOPSIS("Extract hours (local time) from timestamp"))
PREFIX(TimeDay,     integer,  "day", PARM(t, real, ), RTAO(day(self, t)),
       GROUP(time) SYNOPSIS("Extract day (1-31) from timestamp"))
PREFIX(TimeWeekDay, integer,  "week_day", PARM(t, real, ), RTAO(weekDay(self, t)),
       GROUP(time) SYNOPSIS("Extract week day (1-7) from timestamp"))
PREFIX(TimeYearDay, integer,  "year_day", PARM(t, real, ), RTAO(yearDay(self, t)),
       GROUP(time) SYNOPSIS("Extract year day (1-365) from timestamp"))
PREFIX(TimeMonth,   integer,  "month", PARM(t, real, ), RTAO(month(self, t)),
       GROUP(time) SYNOPSIS("Extract month from timestamp"))
PREFIX(TimeYear, integer,  "year", PARM(t, real, ), RTAO(year(self, t)),
       GROUP(time) SYNOPSIS("Extract year from timestamp"))
PREFIX(Seconds, integer, "seconds" ,, RTAO(seconds(self, -1.0)),
       GROUP(time) SYNOPSIS("Return seconds of current time"))
PREFIX(Minutes, integer, "minutes" ,, RTAO(minutes(self, -1.0)),
       GROUP(time) SYNOPSIS("Return minutes of current time"))
PREFIX(Hours,   integer, "hours"   ,, RTAO(hours(self, -1.0)),
       GROUP(time) SYNOPSIS("Return hours of current time"))
PREFIX(Day,     integer, "day"     ,, RTAO(day(self, -1.0)),
       GROUP(time) SYNOPSIS("Return current day of month"))
PREFIX(WeekDay, integer, "week_day",, RTAO(weekDay(self, -1.0)),
       GROUP(time) SYNOPSIS("Return current day of week"))
PREFIX(YearDay, integer, "year_day",, RTAO(yearDay(self, -1.0)),
       GROUP(time) SYNOPSIS("Return current day of year"))
PREFIX(Month,   integer, "month"   ,, RTAO(month(self, -1.0)),
       GROUP(time) SYNOPSIS("Return current month"))
PREFIX(Year,    integer, "year"    ,, RTAO(year(self, -1.0)),
       GROUP(time) SYNOPSIS("Return current year"))
PREFIX(DaySeconds,   real,      "time", , RTAO(time(self)),
       GROUP(time)
       SYNOPSIS("Return a fractional time, including milliseconds")
       DESCRIPTION("Returns the current document's time or the time at wich the document was frozen.")
       RETURNS(real, "Return a fractional time, including milliseconds"))
PREFIX(PageSeconds,  real,      "page_time", , RTAO(pageTime(self)),
       GROUP(time)
       SYNOPSIS("Returns the number of seconds since page was shown.]")
       DESCRIPTION("Returns the number of seconds since the page was shown. "
                   "The precision is at least one millisecond. "
                   "The time value is frozen when animations are disabled.")
       RETURNS(real, "Return a fractional time, including milliseconds"))
PREFIX(After, real, "after",
       PARM(interval, real, "Interval in seconds")
       PARM(body, code, "Code to evaluate."),
       RTAO(after(context, interval, body)),
       GROUP(time)
       SYNOPSIS("Execute some code after a delay")
       DESCRIPTION("Execute the given code after the specified amount of time.")
       RETURNS(real, "The real elapsed time."))
PREFIX(Every, real, "every",
       PARM(interval, real, "Repeat interval")
       PARM(duty, real, "Duty cycle")
       PARM(body, code, "Code to evaluate"),
       RTAO(every(context, interval, duty, body)),
       GROUP(time)
       SYNOPSIS("Execute some code at regular intervals")
       DESCRIPTION("Execute the specified code at regular intervals. "
                   "The interval is specified in seconds, with a precision "
                   "of one millisecond. The duty cycle is the fraction of "
                   "the time interval during which the code executes."))
PREFIX(Every50Pct, real, "every",
       PARM(interval, real, "Repeat interval")
       PARM(body, code, "Code to evaluate"),
       RTAO(every(context, interval, 0.5, body)),
       GROUP(time)
       SYNOPSIS("Execute some code at regular intervals")
       DESCRIPTION("Execute the specified code at regular intervals. "
                   "The interval is specified in seconds, with a precision "
                   "of one millisecond. The specified code evaluates for "
                   "approximately 50% of the time."))

PREFIX(MouseX,  real,  "mouse_x", , RTAO(mouseX(self)),
       GROUP(mouse)
       SYNOPSIS("Mouse x-coordinate")
       DESCRIPTION("Mouse x-coordinate")
       RETURNS(real, "Return the position of the mouse"))
PREFIX(MouseY,  real,  "mouse_y", , RTAO(mouseY(self)),
       GROUP(mouse)
       SYNOPSIS("Mouse y-coordinate")
       DESCRIPTION("Mouse y-coordinate")
       RETURNS(real, "Return the position of the mouse"))
PREFIX(MouseButtons,  integer,  "mouse_buttons", , RTAO(mouseButtons(self)),
       GROUP(mouse)
       SYNOPSIS("Return the buttons of the last mouse event")
       DESCRIPTION("Return the buttons of the last mouse event. "
                   "It is an OR combination of following values:\n"
                   "0x00000000 The button state does not refer to any button\n"
                   "0x00000001 The primary button is pressed. "
                   "The primary button is generally the leftmost one."
                   "0x00000002 The secondary button is pressed. "
                   "The secondary button is generally the rightmost one."
                   "0x00000004 The third mouse button is pressed. "
                   "THis is generally the middle button."
                   "0x00000008	(X11 only) First X button.\n"
                   "0x00000010  (X11 only) Second X button.\n")
       RETURNS(integer, "Button state of the last mouse event"))
PREFIX(ShapeAction,  tree,  "on",
       PARM(action_name, text, "The action name")
       PARM(action_code, code, "The code to execute"),
       RTAO(shapeAction(self,action_name,action_code)),
       GROUP(mouse)
       SYNOPSIS("Associate the specified code to the named action.")
       DESCRIPTION("Associate the specified code to the named action. "
                   "This code is then executed when the action occurs on "
                   "the current shape."))
PREFIX(ShapeClickAction,  tree,  "on_click",
       PARM(t,code, "The code to execute"),
       RTAO(shapeAction(self,"click",t)),
       GROUP(mouse)
       SYNOPSIS("Associate code with click.")
       DESCRIPTION("Associate the specified code to the click"))
PREFIX(ShapeMouseoverAction,  tree,  "on_mouseover",
       PARM(t,code, "The code to execute"),
       RTAO(shapeAction(self,"mouseover",t)),
       GROUP(mouse)
       SYNOPSIS("Associate code with mouse over")
       DESCRIPTION("Associate the specified code to the mouse over"))       
PREFIX(ShapeMouseReleaseAction,  tree,  "on_release",
       PARM(t,code, "The code to execute"),
       RTAO(shapeAction(self,"release",t)),
       GROUP(mouse)
       SYNOPSIS("Associate code with mouse over")
       DESCRIPTION("Associate the specified code to the mouse over"))
PREFIX(TaoFeatureAvailable,  boolean,  "is_available",
       PARM(name, symbol, "The name of the feature to test"),
       RTAO(taoFeatureAvailable(self, name)),
       GROUP(misc)
       SYNOPSIS("Check if a functionality is available")
       DESCRIPTION("Check if a specific Tao feature is available with the current version of the program")
       RETURNS( boolean, "True if the feature is compiled in, false otherwise.") )



// ============================================================================
//
// Preserving attributes
//
// ============================================================================

PREFIX(Locally,  tree,  "locally",
       PARM(t, code, "The code to execute in a local context"),
       RTAO(locally(context, self, t)),
       GROUP(code)
       SYNOPSIS("Make a local context")
       DESCRIPTION("Evaluate the child tree while preserving the current state")
       RETURNS(tree, "The result of the child execution."))
PREFIX(Shape,    tree,  "shape",
       PARM(t, code, "The code of the shape."),
       RTAO(shape(context, self, t)),
       GROUP(code:graph)
       SYNOPSIS("Make the shape selectable")
       DESCRIPTION("Evaluate the child and mark the current shape. Make the shape sensible to mosue events like selection, motion, rotation...")
       RETURNS(tree, "The result of the child execution."))
PREFIX(Widget,   tree,  "active_widget",
       PARM(t,code, "The code that represent the widget."),
       RTAO(activeWidget(context, self,t)),
       GROUP(code:graph:widget)
       SYNOPSIS("Make the widget clickable")
       DESCRIPTION("Create a context for active widgets, e.g. buttons")
       RETURNS(tree, "The result of the child execution."))
PREFIX(Anchor,   tree,  "anchor",
       PARM(t, code, "The code that represent the shapes to be anchored."),
       RTAO(anchor(context, self, t)),
       GROUP(graph)
       SYNOPSIS("")
       DESCRIPTION("Anchor a set of shapes to the current position")
       RETURNS(tree, "The result of the child execution."))



// ============================================================================
//
//   Transforms
//
// ============================================================================

PREFIX(ResetTransform,  tree,  "reset_transform", , RTAO(resetTransform(self)),
       GROUP(graph:transform)
       SYNOPSIS("Reset transform")
       DESCRIPTION("Reset transform to original projection state."))

PREFIX(RotateX,  tree,  "rotatex",
       PARM(rx, real, "The angle of rotation in degree.[TODO : check the unit]"),
       RTAO(rotatex(self, rx)),
       GROUP(graph:transform)
       SYNOPSIS("Rotate around X")
       DESCRIPTION("Rotate around X axis."))
PREFIX(RotateY,  tree,  "rotatey",
       PARM(ry, real, "The angle of rotation in degree.[TODO : check the unit]"),
       RTAO(rotatey(self, ry)),
       GROUP(graph:transform)
       SYNOPSIS("Rotate around Y")
       DESCRIPTION("Rotate around Y axis."))
PREFIX(RotateZ,  tree,  "rotatez",
       PARM(rz, real, "The angle of rotation in degree.[TODO : check the unit]"),
       RTAO(rotatez(self, rz)),
       GROUP(graph:transform)
       SYNOPSIS("Rotate around Z")
       DESCRIPTION("Rotate around Z axis."))
PREFIX(Rotate,  tree,  "rotate",
       PARM(ra, real, "[TODO : A-t-on une rotation autour de l'axe du temps ???]")
       PARM(rx, real, "angle around X-axis")
       PARM(ry, real, "angle around Y-axis")
       PARM(rz, real, "angle around Z-axis"),
       RTAO(rotate(self, ra, rx, ry, rz)),
       GROUP(graph:transform)
       SYNOPSIS("Rotation")
       DESCRIPTION("Rotation along an arbitrary axis"))

PREFIX(TransX,  tree,  "translatex",
       PARM(x, real, "x translation."),
       RTAO(translatex(self, x)),
       GROUP(graph:transform)
       SYNOPSIS("Translate along X")
       DESCRIPTION("Translate along X-axis"))
PREFIX(TransY,  tree,  "translatey",
       PARM(y, real, "y translation."),
       RTAO(translatey(self, y)),
       GROUP(graph:transform)
       SYNOPSIS("Translate along Y")
       DESCRIPTION("Translate along Y-axis"))
PREFIX(TransZ,  tree,  "translatez",
       PARM(z, real, "z translation."),
       RTAO(translatez(self, z)),
       GROUP(graph:transform)
       SYNOPSIS("Translate along Z")
       DESCRIPTION("Translate along Z-axis"))
PREFIX(Translate,  tree,  "translate",
       PARM(x, real, "x translation.")
       PARM(y, real, "y translation.")
       PARM(z, real, "z translation."),
       RTAO(translate(self, x, y, z)),
       GROUP(graph:transform)
       SYNOPSIS("Translation along three axes")
       DESCRIPTION("Translation along three axes"))

PREFIX(ScaleX,  tree,  "scalex",
       PARM(x, real, "scale factor."),
       RTAO(rescalex(self, x)),
       GROUP(graph:transform)
       SYNOPSIS("Rescale along X")
       DESCRIPTION("Rescale along X-axis"))
PREFIX(ScaleY,  tree,  "scaley",
       PARM(y, real, "scale factor."),
       RTAO(rescaley(self, y)),
       GROUP(graph:transform)
       SYNOPSIS("Rescale along Y")
       DESCRIPTION("Rescale along Y-axis"))
PREFIX(ScaleZ,  tree,  "scalez",
       PARM(z, real, "scale factor."),
       RTAO(rescalez(self, z)),
       GROUP(graph:transform)
       SYNOPSIS("Rescale along Z")
       DESCRIPTION("Rescale along Z-axis"))
PREFIX(Scale,  tree,  "scale",
       PARM(x, real, "x-scale factor.")
       PARM(y, real, "y-scale factor.")
       PARM(z, real, "z-scale factor."),
       RTAO(rescale(self, x, y, z)),
       GROUP(graph:transform)
       SYNOPSIS("Scaling along three axes")
       DESCRIPTION("Scaling along three axes"))



// ============================================================================
//
//    Setting attributes
//
// ============================================================================

PREFIX(EnableDepthTest, boolean, "enable_depth_test",,
       RTAO(depthTest(self, true)),
       GROUP(code:graph)
       SYNOPSIS("Enable OpenGL depth test")
       DESCRIPTION("Activate the OpenGL depth test for polygons "
                   "using the depth buffer.")
       RETURNS(boolean, "The previous state of depth testing"))
PREFIX(DisableDepthTest, boolean, "disable_depth_test",,
       RTAO(depthTest(self, false)),
       GROUP(code:graph)
       SYNOPSIS("Disable OpenGL depth test")
       DESCRIPTION("Deactivate the OpenGL depth test for polygons.")
       RETURNS(boolean, "The previous state of depth testing"))
PREFIX(Refresh, tree, "refresh",
       PARM(interval, real, "Interval in seconds"),
       RTAO(refresh(self, interval)),
       GROUP(code:graph)
       SYNOPSIS("Set document refresh time")
       DESCRIPTION("Refresh the document after the given time interval."))
PREFIX(RefreshOn, tree, "refresh_on",
       PARM(event_type, integer, "Type of event to monitor (Qt value)"),
       RTAO(refreshOn(self, event_type)),
       GROUP(events)
       SYNOPSIS("Refresh current layout on a specific event type")
       DESCRIPTION("Refresh the current layout when the application receives "
                   "the specified event type. Event type are integer values "
                   "defined by the QEvent::Type class "
                   "(http://doc.trolltech.com/4.6/qevent.html#Type-enum). "
                   "The following constants are predefined for the "
                   "most common event types:\n"
                   "TimerEvent                  = 1\n"
                   "MouseButtonPressEvent       = 2\n"
                   "MouseButtonReleaseEvent     = 3\n"
                   "MouseButtonDblClickEvent    = 4\n"
                   "MouseMoveEvent              = 5\n"
                   "KeyPressEvent               = 6\n"
                   "KeyReleaseEvent             = 7\n"))
PREFIX(NoRefreshOn, tree, "no_refresh_on",
       PARM(event_type, integer, "Type of event (Qt value)"),
       RTAO(noRefreshOn(self, event_type)),
       GROUP(events)
       SYNOPSIS("Do not refresh current layout on a specific event type")
       DESCRIPTION("Cancel refresh on specified event type, if it was set to refresh. "
                   "See refresh_on for a list of event type values."))
PREFIX(DefaultRefresh, tree, "default_refresh",
       PARM(interval, real, "Interval in seconds"),
       RTAO(defaultRefresh(self, interval)),
       GROUP(time:events)
       SYNOPSIS("Change default refresh interval for time primitives")
       DESCRIPTION("Set the documents refresh interval for code blocks that "
                   "depend on time due to the use of the time or "
                   "page_time primitive."))
PREFIX(DefaultRefreshGet, tree, "default_refresh",
       ,
       RTAO(defaultRefresh(self, -1.0)),
       GROUP(time:events)
       SYNOPSIS("Return the current value of the default refresh interval")
       DESCRIPTION("Get the document refresh interval for code blocks that "
                   "depend on time due to the use of the time or "
                   "page_time primitive."))
#ifndef CFG_NOSRCEDIT
PREFIX(ShowSource, boolean, "show_source",
       PARM(flag, boolean, "Flag controlling whether source is shown"),
       RTAO(showSource(self, flag)),
       GROUP(gui)
       SYNOPSIS("Show or hide the source code panel")
       DESCRIPTION("Shows the source code panel when the flag is true, "
                   "hide it when it is false.")
       RETURNS(boolean,
               "The previous visibility state of the "
               "source code panel."))
#endif
PREFIX(FullScreen, boolean, "full_screen",
       PARM(flag, boolean, "Flag controlling full-screen mode"),
       RTAO(fullScreen(self, flag)),
       GROUP(gui)
       SYNOPSIS("Enter or exit full-screen mode for the document")
       DESCRIPTION("When the flag is true, display the document in "
                   "full-screen mode. When the flag is false, display the "
                   "document in a window.")
       RETURNS(boolean, "The previous full-screen state."))
PREFIX(ToggleFullScreen, boolean, "toggle_full_screen", ,
       RTAO(toggleFullScreen(self)),
       GROUP(gui)
       SYNOPSIS("Toggle full-screen mode")
       DESCRIPTION("Toggle document display mode between full-screen and "
                   "windowed mode.")
       RETURNS(boolean, "The previous full-screen state of the document."))
PREFIX(AutoHideCursor, boolean, "auto_hide_cursor",
       PARM(flag, boolean, "Flag controlling cursor hiding"),
       RTAO(autoHideCursor(self, flag)),
       GROUP(gui)
       SYNOPSIS("Control the automatic hiding of the cursor"))
PREFIX(ToggleAutoHideCursor, boolean, "toggle_auto_hide_cursor", ,
       RTAO(toggleAutoHideCursor(self)),
       GROUP(gui)
       SYNOPSIS("Toggle automatic hiding of the cursor"))
PREFIX(SlideShow, boolean, "slide_show",
       PARM(flag, boolean, "Flag controlling auto-hide mode"),
       RTAO(slideShow(self, flag)),
       GROUP(gui)
       SYNOPSIS("Control slide-show mode")
       DESCRIPTION("Activate or deactivate slide-show mode, depending on "
                   "the value of the flag. When activated, the document is "
                   "displayed full-screen, the cursor hides automatically "
                   "and the screensaver is deactivated.")
       RETURNS(boolean,
               "A flag indicating the previous value of the "
               "slide-show mode."))
PREFIX(ToggleSlideShow, boolean, "toggle_slide_show", ,
       RTAO(toggleSlideShow(self)),
       GROUP(gui)
       SYNOPSIS("Toggle slide-show mode"))
PREFIX(ShowStatistics, boolean, "show_statistics",
       PARM(flag, boolean, "Flag controlling display of rendering statistics (fps)"),
       RTAO(showStatistics(self, flag)),
       GROUP(gui)
       SYNOPSIS("Control the display of rendering statistics"))
PREFIX(ToggleShowStatistics, boolean, "toggle_show_statistics", ,
       RTAO(toggleShowStatistics(self)),
       GROUP(gui)
       SYNOPSIS("Toggle display of rendering statistics"))
PREFIX(ResetView, boolean, "reset_view", ,
       RTAO(resetView(self)),
       GROUP(gui)
       SYNOPSIS("Reset document view to default parameters"))
PREFIX(PanEye, boolean, "pan",
       PARM(dx, real, "Displacement along the X axis")
       PARM(dy, real, "Displacementalong the Y axis"),
       RTAO(panView(self, dx, dy)),
       GROUP(gui)
       SYNOPSIS("Pan the document view"))
PREFIX(GetZoom, real, "zoom", ,
       RTAO(currentZoom(self)),
       GROUP(gui)
       SYNOPSIS("Get current level of zoom"))
PREFIX(SetZoom, boolean, "zoom",
       PARM(z, real, "Zoom factor"),
       RTAO(setZoom(self, z)),
       GROUP(gui)
       SYNOPSIS("Set current level of zoom"))
PREFIX(GetScaling, real, "camera_scaling", ,
       RTAO(currentScaling(self)),
       GROUP(gui:camera)
       SYNOPSIS("Get current camera scaling factor"))
PREFIX(SetScaling, boolean, "camera_scaling",
       PARM(scaling, real, "Scaling factor"),
       RTAO(setScaling(self, scaling)),
       GROUP(gui:camera)
       SYNOPSIS("Set the camera scaling factor"))
PREFIX(GetEye, infix, "camera_position", ,
       RTAO(currentCameraPosition(self)),
       GROUP(gui:camera)
       SYNOPSIS("Return the current position of the camera"))
PREFIX(SetEye, boolean, "camera_position",
       PARM(x, real, "X coordinate")
       PARM(y, real, "Y coordinate")
       PARM(z, real, "Z coordinate"),
       RTAO(setCameraPosition(self, x, y, z)),
       GROUP(gui:camera)
       SYNOPSIS("Set the camera position"))
PREFIX(GetCenter, infix, "camera_target", ,
       RTAO(currentCameraTarget(self)),
       GROUP(gui:camera)
       SYNOPSIS("Return the point the camera is looking at"))
PREFIX(SetCenter, boolean, "camera_target",
       PARM(x, real, "X coordinate")
       PARM(y, real, "Y coordinate")
       PARM(z, real, "Z coordinate"),
       RTAO(setCameraTarget(self, x, y, z)),
       GROUP(gui:camera)
       SYNOPSIS("Set the point the camera is looking at"))
PREFIX(GetCameraUp, infix, "camera_up_vector", ,
       RTAO(currentCameraUpVector(self)),
       GROUP(gui:camera)
       SYNOPSIS("Return the up direction for the camera"))
PREFIX(SetCameraUp, boolean, "camera_up_vector",
       PARM(x, real, "X component")
       PARM(y, real, "Y component")
       PARM(z, real, "Z component"),
       RTAO(setCameraUpVector(self, x, y, z)),
       GROUP(gui:camera)
       SYNOPSIS("Set the up direction for the camera"))
PREFIX(ToggleHandCursor, boolean, "toggle_hand_cursor", ,
       RTAO(toggleHandCursor(self)),
       GROUP(gui:camera)
       SYNOPSIS("Toggle between hand (panning) and arrow (moving) cursors"))
PREFIX(KeyboardModifiers, integer, "keyboard_modifiers", ,
       RTAO(lastModifiers(self)),
       GROUP(gui:keyboard)
       SYNOPSIS("Return the current keyboard modifiers")
       DESCRIPTION("The keyboard modifiers are a bitwise or "
                   "of the following values:\n"
                   "0x02000000	One of the Shift keys\n"
                   "0x04000000	One of the Ctrl / Control keys\n"
                   "0x08000000	One of the Alt keys\n"
                   "0x10000000	One of the Meta keys\n"
                   "0x20000000	A keypad button\n"
                   "0x40000000	Mode_switch key (X11 only)\n"
                   "\n"
                   "Note: On Mac OS X, the Control modifier corresponds to "
                   "the Command keys on the Macintosh keyboard, and the "
                   "Meta modifier corresponds to the Control keys. "
                   "The Keypad modifier will also be set when an arrow key "
                   "is pressed as the arrow keys are considered part of "
                   "the keypad.\n"
                   "Note: On Windows keyboards, the Meta modifier is mapped "
                   "to the optional Windows key.")
       RETURNS(integer, "The current modifiers"))
PREFIX(EnableAnimations,  boolean,  "enable_animations",
       PARM(an, boolean, "on or off"),
       RTAO(enableAnimations(self, an)),
       GROUP(gui)
       SYNOPSIS("Enable or disable animations")
       DESCRIPTION("Enable or disable animations")
       RETURNS(boolean, "True if previous state was on."))
#ifndef CFG_NOSTEREO
PREFIX(EnableStereoscopy,  boolean,  "enable_stereoscopy",
       PARM(mode, symbol, "on or off"),
       RTAO(enableStereoscopy(self, mode)),
       GROUP(gui)
       SYNOPSIS("Enable or disable stereoscopie mode")
       DESCRIPTION("Enable or disable stereoscopie mode")
       RETURNS(boolean, "True if previous state was on."))
PREFIX(StereoPlanes, boolean, "stereoscopy_planes", PARM(cnt, integer, "on or off"),
       RTAO(setStereoPlanes(self, cnt)), GROUP(gui)
       SYNOPSIS("Enable or disable stereoscopie mode")
       DESCRIPTION("Enable or disable stereoscopie mode")
       RETURNS(boolean, "True if previous state was on."))
#endif
PREFIX(EyeDistance,  boolean,  "eye_distance",
       PARM(e, real, ),
       RTAO(setEyeDistance(self, e)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(GetEyeDistance,  real,  "eye_distance", , RTAO(getEyeDistance(self)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(ZNear,  boolean,  "z_near",
       PARM(zn, real, ),
       RTAO(setZNear(self, zn)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(GetZNear,  real,  "z_near", , RTAO(getZNear(self)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(ZFar,  boolean,  "z_far",
       PARM(zf, real, ),
       RTAO(setZFar(self, zf)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(GetZFar,  real,  "z_far", , RTAO(getZFar(self)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(PolygonOffset,  integer,  "polygon_offset",
       PARM(f0, real, "factor base")
       PARM(f1, real, "factor increment")
       PARM(u0, real, "unit base")
       PARM(u1, real, "unit increment"),
       RTAO(polygonOffset(self, f0, f1, u0, u1)),
       GROUP(graph)
       SYNOPSIS("Set the polygon offset factors")
       DESCRIPTION("Set the polygon offset factors")
       RETURNS(integer, "the current polygon offset"))
PREFIX(EnableVSync,  boolean,  "enable_vsync",
       PARM(an, boolean, "on or off"),
       RTAO(enableVSync(self, an)),
       GROUP()
       SYNOPSIS("Enable or disable VSync")
       DESCRIPTION("Enable or disable VSynx. Enabling VSync prevents tearing, at the price of a lower framerate.")
       RETURNS(boolean, "True if previous state was on."))



// ============================================================================
//
//    Graphic attributes
//
// ============================================================================

PREFIX(ClearColor,  tree,  "clear_color",
       PARM(r, real, )
       PARM(g, real, )
       PARM(b, real, )
       PARM(a, real, ),
       RTAO(clearColor(self, r, g, b, a)),
       GROUP()
       SYNOPSIS("Set the background color")
       DESCRIPTION("Set the background color"))
PREFIX(MotionBlur, tree, "motion_blur",
       PARM(f, real, "Amount of blur, between 0 and 1"),
       RTAO(motionBlur(self, f)),
       GROUP(page)
       SYNOPSIS("Set the motion blur factor"))
PREFIX(LineColorName,  tree,  "line_color",
       PARM(n, text, "The name of the color, which can be one of the SVG color keywork names, or in one of these formats: #RGB or #RRGGBB  (each of R, G, and B being a single hex digit).")
       PARM(a, real, "The red component of an color, is in the range 0.0 to 1.0."),
       RTAO(lineColorName(self, n, a)),
       GROUP(graph:attribute)
       SYNOPSIS("Set the line color")
       DESCRIPTION("Set the color for lines."))
PREFIX(LineColorRGB,  tree,  "line_color",
       PARM(r, real, )
       PARM(g, real, )
       PARM(b, real, )
       PARM(a, real, ),
       RTAO(lineColorRgb(self, r, g, b, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(LineColorHSL,  tree,  "line_color_hsl",
       PARM(h, real, )
       PARM(s, real, )
       PARM(l, real, )
       PARM(a, real, ),
       RTAO(lineColorHsl(self, h, s, l, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(LineColorHSV,  tree,  "line_color_hsv",
       PARM(h, real, )
       PARM(s, real, )
       PARM(v, real, )
       PARM(a, real, ),
       RTAO(lineColorHsv(self, h, s, v, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(LineColorCMYK,  tree,  "line_color_cmyk",
       PARM(c, real, )
       PARM(m, real, )
       PARM(y, real, )
       PARM(k, real, )
       PARM(a, real, ),
       RTAO(lineColorCmyk(self, c, m, y, k, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(LineWidth,  tree,  "line_width",
       PARM(lw, real, "The line width to set."),
       RTAO(lineWidth(self, lw)),
       GROUP(graph:attribute)
       SYNOPSIS("Select the line width for OpenGL")
       DESCRIPTION("Set the line width for OpenGL"))
PREFIX(LineStipple,  tree,  "line_stipple",
       PARM(p, integer, "pattern [TODO: which value to which pattern ?]")
       PARM(s, integer, "scale"),
       RTAO(lineStipple(self, p, s)),
       GROUP(graph:attribute)
       SYNOPSIS("line stipple pattern")
       DESCRIPTION("Select the line stipple pattern for OpenGL"))
PREFIX(FillColorName,  tree,  "color",
       PARM(n, text, "The name of the color, which can be one of the SVG color keywork names, or in one of these formats: #RGB or #RRGGBB  (each of R, G, and B being a single hex digit).")
       PARM(a, real, "The red component of an color, is in the range 0.0 to 1.0."),
       RTAO(fillColorName(self, n, a)),
       GROUP(graph:attribute)
       SYNOPSIS("Set the fill color")
       DESCRIPTION("Set the color for fill."))
PREFIX(FillColorRGB,  tree,  "color",
       PARM(r, real, )
       PARM(g, real, )
       PARM(b, real, )
       PARM(a, real, ),
       RTAO(fillColorRgb(self, r, g, b, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(FillColorHSL,  tree,  "color_hsl",
       PARM(h, real, )
       PARM(s, real, )
       PARM(l, real, )
       PARM(a, real, ),
       RTAO(fillColorHsl(self, h, s, l, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(FillColorHSV,  tree,  "color_hsv",
       PARM(h, real, )
       PARM(s, real, )
       PARM(v, real, )
       PARM(a, real, ),
       RTAO(fillColorHsv(self, h, s, v, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(FillColorCMYK,  tree,  "color_cmyk",
       PARM(c, real, )
       PARM(m, real, )
       PARM(y, real, )
       PARM(k, real, )
       PARM(a, real, ),
       RTAO(fillColorCmyk(self, c, m, y, k, a)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(FillColorGradient,  tree, "gradient_color",
       PARM(pos, real, )
       PARM(r, real, )
       PARM(g, real, )
       PARM(b, real, )
       PARM(a, real, ),
       RTAO(fillColorGradient(self, pos, r, g, b, a)),
       GROUP(graph)
       SYNOPSIS("")
       DESCRIPTION("")
       RETURNS(tree, ""))
PREFIX(FillTextureUnit,  integer,  "texture_unit",
       PARM(texUnit, integer, "The texture unit."),
       RTAO(fillTextureUnit(self, texUnit)),
       GROUP(graph:attribute)
       SYNOPSIS("Create a GL texture")
       DESCRIPTION(""))
PREFIX(FillTextureId,  integer,  "texture",
       PARM(texId, integer, "The texture id."),
       RTAO(fillTextureId(self, texId)),
       GROUP(graph:attribute)
       SYNOPSIS("Create a GL texture")
       DESCRIPTION(""))
PREFIX(FillTexture,  integer,  "texture",
       PARM(n, text, "The image filename."),
       RTAO(fillTexture(self, n)),
       GROUP(graph:attribute)
       SYNOPSIS("Create a GL texture")
       DESCRIPTION("Build a GL texture out of an image file.\n"
                   "Supported format include:\n"
                   "BMP  Windows Bitmap\n"
                   "GIF  Graphic Interchange Format (optional)\n"
                   "JPG	 Joint Photographic Experts Group\n"
                   "JPEG Joint Photographic Experts Group\n"
                   "PNG	 Portable Network Graphics\n"
                   "PBM  Portable Bitmap\n"
                   "PGM  Portable Graymap\n"
                   "PPM  Portable Pixmap\n"
                   "TIFF Tagged Image File Format\n"
                   "XBM  X11 Bitmap\n"
                   "XPM X11 Pixmap"))
PREFIX(FillTextureSVG,  integer, "svg",
       PARM(img, text, "The image filename."),
       RTAO(fillTextureFromSVG(self, img)),
       GROUP(graph)
       SYNOPSIS("Create a texture from an SVG")
       DESCRIPTION("Draw an image from an SVG format")
       RETURNS(tree, ""))
PREFIX(FillAnimatedTexture,  integer,  "animated_texture",
       PARM(n, text, "The animation filename."),
       RTAO(fillAnimatedTexture(self, n)),
       GROUP(graph:attribute)
       SYNOPSIS("Create a GL animated texture")
       DESCRIPTION("Build a GL texture images from an animated image file. Supported format are:\n\
GIF	Animated Graphic Interchange Format\n                           \
MNG	Animated portable Network Graphics\n                            \
others [TODO:  description is troncated] "))
PREFIX(ImageA,  integer, "image",
       PARM(x, real, )
       PARM(y, real, )
       PARM(w, real, )
       PARM(h, real, )
       PARM(img, text, ),
       RTAO(image(context, self, x, y, w, h, img)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(ImageB,  integer, "image",
       PARM(x, real, "x-coordinate of the image")
       PARM(y, real, "y-coordinate of the image")
       PARM(img, text, "width of the image"),
       RTAO(image(context, self, x, y, img)),
       GROUP(graph)
       SYNOPSIS("Make an image")
       DESCRIPTION("Make an image. image x,y,img rewrites the source with image x,y,w,h,img where w and h are the original size of the image."))
PREFIX(ImagePx,  integer, "image_px",
       PARM(x, real, "X coordinate of image center")
       PARM(y, real, "Y coordinate of image center")
       PARM(w, real, "Image width in pixels")
       PARM(h, real, "Image height in pixels")
       PARM(img, text, "File path"),
       RTAO(imagePx(context, self, x, y, w, h, img)),
       GROUP()
       SYNOPSIS("Insert an image")
       DESCRIPTION(""))
PREFIX(ImageSize,  infix, "image_size",
       PARM(img, text, "File path"),
       RTAO(imageSize(context, self, img)),
       GROUP()
       SYNOPSIS("Get the size of an image")
       DESCRIPTION("")
       RETURNS(infix, "Two integer values: w,h"))
PREFIX(TextureWrap,  tree,  "texture_wrap",
       PARM(s, boolean, "[TODO]")
       PARM(t, boolean, "[TODO]"),
       RTAO(textureWrap(self, s, t)),
       GROUP(graph)
       SYNOPSIS("wrap textures or clamp them")
       DESCRIPTION("Record if we want to wrap textures or clamp them"))
PREFIX(TextureTransform,  tree,  "texture_transform",
       PARM(t, code, "[TODO]"),
       RTAO(textureTransform(context, self, t)),
       GROUP(graph)
       SYNOPSIS("Apply a texture transformation")
       DESCRIPTION("Apply a texture transformation.[TODO: de quel genre ?]")
       RETURNS(tree, "The result of the child evaluation."))
PREFIX(TextureWidth,  tree,  "texture_width",,
       RTAO(textureWidth(self)),
       GROUP(graph)
       SYNOPSIS("Return current texture width.")
       DESCRIPTION("Return current texture width.")
       RETURNS(tree, "The current texture width."))
PREFIX(TextureHeight,  tree,  "texture_height",,
       RTAO(textureHeight(self)),
       GROUP(graph)
       SYNOPSIS("Return current texture height")
       DESCRIPTION("Return current texture height")
       RETURNS(tree, "The current texture height"))
PREFIX(TextureId,  tree,  "texture",,
       RTAO(textureId(self)),
       GROUP(graph)
       SYNOPSIS("Return current texture id")
       DESCRIPTION("Return current texture id")
       RETURNS(tree, "The current texture id"))
PREFIX(TextureUnit,  tree,  "texture_unit",,
       RTAO(textureUnit(self)),
       GROUP(graph)
       SYNOPSIS("Return current texture unit")
       DESCRIPTION("Return current texture unit")
       RETURNS(tree, "The current texture unit"))

// ============================================================================
//
//   Generating a path
//
// ============================================================================

PREFIX(Path,    tree,  "path",
       PARM(t, code, "The definition of the path."),
       RTAO(newPath(context, self, t)),
       GROUP(graph:path)
       SYNOPSIS("Start a path")
       DESCRIPTION("Evaluate the child tree within a polygon")
       RETURNS(tree, "The result of the child evaluation."))
PREFIX(MoveTo,  tree,  "move_to",
       PARM(x, real, "x-coordinate of the point to move to.")
       PARM(y, real, "y-coordinate of the point to move to.")
       PARM(z, real, "z-coordinate of the point to move to."),
       RTAO(moveTo(self, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS("move to point")
       DESCRIPTION("Add a 'moveTo' to the current path"))
PREFIX(LineTo,  tree,  "line_to",
       PARM(x, real, "x-coordinate of the point to line to.")
       PARM(y, real, "y-coordinate of the point to line to.")
       PARM(z, real, "z-coordinate of the point to line to."),
       RTAO(lineTo(self, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS("line to point")
       DESCRIPTION("Add a 'lineTo' to the current path"))
PREFIX(QuadTo,  tree,  "quad_to",
       PARM(cx, real, "x-coordinate of the control point.")
       PARM(cy, real, "y-coordinate of the control point.")
       PARM(cz, real, "z-coordinate of the control point.")
       PARM(x, real, "x-coordinate of the point to finish to.")
       PARM(y, real, "y-coordinate of the point to finish to.")
       PARM(z, real, "z-coordinate of the point to finish to."),
       RTAO(curveTo(self, cx, cy, cz, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS(" quadric curveTo")
       DESCRIPTION("Add a quadric curveTo to the current path."))
PREFIX(CubicTo,  tree,  "cubic_to",
       PARM(c1x, real, "x-coordinate of the first control point.")
       PARM(c1y, real, "y-coordinate of the first control point.")
       PARM(c1z, real, "z-coordinate of the first control point.")
       PARM(c2x, real, "x-coordinate of the second control point.")
       PARM(c2y, real, "y-coordinate of the second control point.")
       PARM(c2z, real, "z-coordinate of the second control point.")
       PARM(x, real, "x-coordinate of the point to finish to.")
       PARM(y, real, "y-coordinate of the point to finish to.")
       PARM(z, real, "z-coordinate of the point to finish to."),
       RTAO(curveTo(self, c1x, c1y, c1z, c2x, c2y, c2z, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS("cubic curveTo")
       DESCRIPTION("Add a cubic curveTo to the current path"))
PREFIX(MoveRel,  tree,  "move_relative",
       PARM(x,real, "delta to move to on x-axis.")
       PARM(y,real, "delta to move to on y-axis.")
       PARM(z,real, "delta to move to on z-axis."),
       RTAO(moveToRel(self, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS("relative moveTo")
       DESCRIPTION("Add a relative moveTo"))
PREFIX(LineRel,  tree,  "line_relative",
       PARM(x,real, "delta to line to on x-axis.")
       PARM(y,real, "delta to line to on y-axis.")
       PARM(z,real, "delta to line to on z-axis."),
       RTAO(lineToRel(self, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS("relative line to")
       DESCRIPTION("Add a relative 'lineTo' to the current path")
       RETURNS(tree, ""))
PREFIX(PathTexCoord,  tree,  "path_texture",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(z,real, "z-coordinate"),
       RTAO(pathTextureCoord(self, x, y, z)),
       GROUP(graph:path)
       SYNOPSIS("Not supported yet")
       DESCRIPTION(" NOT SUPPORTED YET. Add a texture coordinate to the path. NOT SUPPORTED YET"))
PREFIX(PathColor,  tree,  "path_color",
       PARM(r, real, "The red componant of the color")
       PARM(g, real, "The blue componant of the color")
       PARM(b, real, "The green componant of the color")
       PARM(a, real, "Alpha channel: the transparency of the color. "),
       RTAO(pathColor(self, r,g,b, a)),
       GROUP(graph:path)
       SYNOPSIS("Not supported yet")
       DESCRIPTION("NOT SUPPORTED YET. Add a color element to the path. NOT SUPPORTED YET. "))
PREFIX(ClosePath,  tree,  "close_path", , RTAO(closePath(self)),
       GROUP(graph:path)
       SYNOPSIS("close the path")
       DESCRIPTION("Close the path back to its origin"))
PREFIX(EndpointsStyle,  tree,  "endpoints_style",
       PARM(s, symbol, "start endpoint style")
       PARM(e, symbol, "end endpoint style"),
       RTAO(endpointsStyle(self, s, e)),
       GROUP(graph:path)
       SYNOPSIS("style of the path endpoints")
       DESCRIPTION("Specify the style of the path endpoints. Supported values are : ARROWHEAD, ARROWHEAD, POINTER, DIAMOND, CIRCLE, SQUARE, BAR, CUP, FLETCHING, HOLLOW_CIRCLEHOLLOW_SQUARE.")
       RETURNS(tree, ""))



// ============================================================================
//
//   2D primitives (either standalone, or added to the current path)
//
// ============================================================================

PREFIX(Point,  tree,  "point",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(z,real, "z-coordinate")
       PARM(s,real, "THe size of the point"),
       RTAO(fixedSizePoint(self, x, y, z, s)),
       GROUP(graph:path)
       SYNOPSIS("Draw a point")
       DESCRIPTION("Draw a point with the given size"))
PREFIX(Rectangle,  tree,  "rectangle",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of the rectangle")
       PARM(h,real, "height of the rectangle"),
       RTAO(rectangle(self, x, y, w, h)),
       GROUP(graph:path:shape)
       SYNOPSIS("Draw a rectangle")
       DESCRIPTION("Draw a rectangle"))
PREFIX(Triangle,  tree,  "triangle",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "base of the triangle")
       PARM(h,real, "height of the triangle"),
       RTAO(isoscelesTriangle(self, x, y, w, h)),
       GROUP(graph:path:shape)
       SYNOPSIS("Isocele triangle")
       DESCRIPTION("Draw an isocele triangle"))
PREFIX(RightTriangle,  tree,  "right_triangle",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "base of the triangle")
       PARM(h,real, "height of the triangle"),
       RTAO(rightTriangle(self, x, y, w, h)),
       GROUP(graph:path:shape)
       SYNOPSIS("Right triangle")
       DESCRIPTION("Draw a right triangle"))
PREFIX(Ellipse,  tree,  "ellipse",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of the ellipse")
       PARM(h,real, "height of the ellipse"),
       RTAO(ellipse(self, x, y, w, h)),
       GROUP(graph:path:shape)
       SYNOPSIS("Ellipse")
       DESCRIPTION("Draw an ellipse centered around (cx,cy) size w * h"))
PREFIX(EllipseArc,  tree,  "ellipse_arc",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of the ellipse")
       PARM(h,real, "height of the ellipse")
       PARM(start, real, "start angle")
       PARM(sweep, real, "sweep angle"),
       RTAO(ellipseArc(self, x, y, w, h, start, sweep)),
       GROUP(graph:path:shape)
       SYNOPSIS("Elliptic sector")
       DESCRIPTION("Elliptic sector centered around (cx,cy) that occupies the given rectangle, beginning at the specified startAngle and extending sweepLength degrees counter-clockwise. Angles are specified in degrees. Clockwise arcs can be specified using negative angles."))
PREFIX(RoundedRectangle,  tree,  "rounded_rectangle",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of the rectangle")
       PARM(h,real, "height of the rectangle")
       PARM(r, real, "corner radius"),
       RTAO(roundedRectangle(self, x, y, w, h, r)),
       GROUP(graph:path:shape)
       SYNOPSIS("Rounded rectangle")
       DESCRIPTION("Rounded rectangle with radius r for the rounded corners"))
PREFIX(EllipticalRectangle,  tree,  "elliptical_rectangle",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of the rectangle")
       PARM(h,real, "height of the rectangle")
       PARM(r, real, "ration of the ellpitic sides"),
       RTAO(ellipticalRectangle(self, x, y, w, h, r)),
       GROUP(graph:path:shape)
       SYNOPSIS("Elliptical rectangle")
       DESCRIPTION("Elliptical rectangle with ratio r for the elliptic sides"))
PREFIX(Arrow,  tree,  "arrow",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of  [TODO: what ?]")
       PARM(h,real, "height of [TODO: what ?]")
       PARM(ax, real, "[TODO]")
       PARM(ay, real, "[TODO]"),
       RTAO(arrow(self, x, y, w, h, ax, ay)),
       GROUP(graph:path:shape)
       SYNOPSIS("Draw an arraw")
       DESCRIPTION("Draw an arraw"))
PREFIX(DoubleArrow,  tree,  "double_arrow",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width of  [TODO: what ?]")
       PARM(h,real, "height of [TODO: what ?]")
       PARM(ax, real, "[TODO]")
       PARM(ay, real, "[TODO]"),
       RTAO(doubleArrow(self, x, y, w, h, ax, ay)),
       GROUP(graph:path:shape)
       SYNOPSIS("Double arraw")
       DESCRIPTION("Draw a symetric double arraw"))
PREFIX(StarPolygon,  tree,  "star_polygon",
       PARM(x, real, "center x-coordinate")
       PARM(y, real, "center y-coordinate")
       PARM(w, real, "width of the star")
       PARM(h, real, "height of the star")
       PARM(p, integer, "Number of branch[TODO: is OK?]")
       PARM(q, integer, "[TODO]"),
       RTAO(starPolygon(self, x, y, w, h, p, q)),
       GROUP(graph:path:shape)
       SYNOPSIS("Draw a star")
       DESCRIPTION("GL regular p-side star polygon {p/q} centered around (cx,cy)"))
PREFIX(Star,  tree,  "star",
       PARM(x, real, "center x-coordinate")
       PARM(y, real, "center y-coordinate")
       PARM(w, real, "width of the star")
       PARM(h, real, "height of the star")
       PARM(p, integer, "Number of branch[TODO: is OK?]")
       PARM(r, real, "inner radius ratio"),
       RTAO(star(self, x, y, w, h, p, r)),
       GROUP(graph:path:shape)
       SYNOPSIS("Draw a star")
       DESCRIPTION("GL regular p-side star centered around (cx,cy) inner radius ratio r"))
PREFIX(SpeechBalloon,  tree,  "speech_balloon",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(w, real, "width of the balloon")
       PARM(h, real, "height of the balloon")
       PARM(r, real, "radius")
       PARM(ax, real, "[TODO]")
       PARM(ay, real, "[TODO]"),
       RTAO(speechBalloon(self, x, y, w, h, r, ax, ay)),
       GROUP(graph:path:shape)
       SYNOPSIS("Speech balloon")
       DESCRIPTION("Speech balloon with radius r for rounded corners, and point a for the tail"))
PREFIX(Callout,  tree,  "callout",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(w, real, "width of the callout")
       PARM(h, real, "height of the callout")
       PARM(r, real, "radius")
       PARM(ax, real, "x-coordinate of point a")
       PARM(ay, real, "y-coordinate of point a")
       PARM(d, real, "[TODO]"),
       RTAO(callout(self, x, y, w, h, r, ax, ay, d)),
       GROUP(graph:path:shape)
       SYNOPSIS("callout")
       DESCRIPTION("Callout with radius r for corners, and point a, width b [TODO: is d or b] for the tail"))

PREFIX(PicturePacker,  tree,  "picture_packer",
       PARM(tw, integer, "width")
       PARM(th, integer, "height")
       PARM(iw, integer, "[TODO]")
       PARM(ih, integer, )
       PARM(pw, integer, )
       PARM(ph, integer, )
       PARM(t, code, ),
       RTAO(picturePacker(self, tw, th, iw, ih, pw, ph, t)),
       GROUP(graph:debug)
       SYNOPSIS("Debug the bin packer")
       DESCRIPTION("Debug the bin packer"))



// ============================================================================
//
//   3D primitives
//
// ============================================================================

PREFIX(Sphere,  tree,  "sphere",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(z, real, "z-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(d, real, "depth")
       PARM(slices, integer, "number of slices")
       PARM(stacks, integer, "[TODO]"),
       RTAO(sphere(self, x, y, z, w, h, d, slices, stacks)),
       GROUP(graph)
       SYNOPSIS("sphere like")
       DESCRIPTION("GL sphere [TODO or ovoid ? Add the incidence of slices and stacks on the sphere rendering time.]"))
PREFIX(Torus,  tree,  "torus",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(z, real, "z-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(d, real, "depth")
       PARM(r, real, "radius")
       PARM(slices, integer, "number of slices")
       PARM(stacks, integer, "number of stacks"),
       RTAO(torus(self, x, y, z, w, h, d, r, slices, stacks)),
       GROUP(graph)
       SYNOPSIS("torus like")
       DESCRIPTION("torus[TODO]")
       RETURNS(tree, ""))
PREFIX(Cube,  tree,  "cube",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(z, real, "z-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(d, real, "depth"),
       RTAO(cube(self, x, y, z, w, h, d)),
       GROUP(graph)
       SYNOPSIS("cube like")
       DESCRIPTION("parallelepiped rectangle"))
PREFIX(Cone,  tree,  "cone",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(z, real, "z-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(d, real, "depth"),
       RTAO(cone(self, x, y, z, w, h, d, 0.0)),
       GROUP(graph)
       SYNOPSIS("cone")
       DESCRIPTION("cone[TODO]"))
PREFIX(Cylinder,  tree,  "cylinder",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(z, real, "z-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(d, real, "depth"),
       RTAO(cone(self, x, y, z, w, h, d, 1.0)),
       GROUP(graph)
       SYNOPSIS("cylinder")
       DESCRIPTION("cylinder[TODO]"))
PREFIX(TruncatedCone,  tree,  "truncated_cone",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(z, real, "z-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(d, real, "depth")
       PARM(r, real, "percentage of basis : 0.0 is a cone; 1.0 is a cylinder."),
       RTAO(cone(self, x, y, z, w, h, d, r)),
       GROUP(graph)
       SYNOPSIS("truncated cone")
       DESCRIPTION("truncated cone[TODO]"))



// ============================================================================
//
//   Text and font
//
// ============================================================================

PREFIX(TextBox,  tree,  "text_box",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(t, code, "text description"),
       RTAO(textBox(context, self, x, y, w, h, t)),
       GROUP(text:graph)
       SYNOPSIS("Create a new page layout")
       DESCRIPTION("Create a new page layout and render text in it.")
       RETURNS(tree, "t evaluation result"))
PREFIX(TextOverflow,  tree,  "text_overflow",
       PARM(x, real, "x-coordinate")
       PARM(y, real, "y-coordinate")
       PARM(w, real, "width")
       PARM(h, real, "height"),
       RTAO(textOverflow(self, x, y, w, h)),
       GROUP(text:graph)
       SYNOPSIS("Overflow text box")
       DESCRIPTION("Overflow text box for the rest of the current text flow"))
PREFIX(TextFlow,  tree,  "text_flow",
       PARM(n, text, "The name of the current flow"),
       RTAO(textFlow(self, n)),
       GROUP(text)
       SYNOPSIS("Names the flow")
       DESCRIPTION("Set the name of the current text flow")
       RETURNS(tree, "The previous name. [TODO: The name of the previous flow or the previous name of the current flow ?]"))
PREFIX(TextSpan,  tree, "text_span",
       PARM(t, code, "The text to insert"),
       RTAO(textSpan(context, self, t)),
       GROUP(text)
       SYNOPSIS("Insert a block of text")
       DESCRIPTION("Insert a block of text with the current definition of font, color, ..."))

PREFIX(TextUnit,  tree, "text",
       PARM(t, text, "The text to insert"),
       RTAO(textUnit(self, t)),
       GROUP(text)
       SYNOPSIS("Insert a block of text")
       DESCRIPTION("Insert a block of text with the current definition of font, color, ..."))
PREFIX(TextFormula,  tree, "formula",
       PARM(t, code, "The formula"),
       RTAO(textFormula(self, t)),
       GROUP(text)
       SYNOPSIS("Insert a block of text corresponding to the given formula")
       DESCRIPTION("Insert a block of text corresponding to the given formula")
       RETURNS(tree, "The tree t given in parameter."))
PREFIX(TextValue,  tree, "text_value",
       PARM(t, code, "The formula"),
       RTAO(textValue(context, self, &t)),
       GROUP(text)
       SYNOPSIS("Insert a block of text corresponding to the given vaue")
       DESCRIPTION("Insert a block of text corresponding to the given formula")
       RETURNS(tree, "The tree t given in parameter."))
PREFIX(Font,  tree,  "font",
       PARM(f, tree, "The font description"),
       RTAO(font(context, self, f)),
       GROUP(text:font)
       SYNOPSIS("Select a font family")
       DESCRIPTION("Select a font family"))
PREFIX(FontFamily,  tree,  "font",
       PARM(f, text, "The font family, and optionally, font style after a slash"),
       RTAO(fontFamily(context, self, f)),
       GROUP(text:font)
       SYNOPSIS("Select a font family")
       DESCRIPTION("Select a font family"))
PREFIX(FontSize,  tree,  "font_size",
       PARM(s, real, "The font size."),
       RTAO(fontSize(self, s)),
       GROUP(text:font)
       SYNOPSIS("Select a font size")
       DESCRIPTION("Select a font size"))
PREFIX(FontScaling,  tree,  "font_scaling",
       PARM(s,real, "Scaling factor")
       PARM(ms,real, "Minimum AA size"),
       RTAO(fontScaling(self,s,ms)),
       GROUP(text:font)
       SYNOPSIS("Change the font scaling factor")
       DESCRIPTION("Change the font scaling factor")
       RETURNS(tree, ""))
PREFIX(FontPlain,  tree,  "plain", , RTAO(fontPlain(self)),
       GROUP(text:font)
       SYNOPSIS("Set plain text")
       DESCRIPTION("Reset the font style, the font weight and the font stretch to normal; reset the font to no underline, nor strikeout, nor overline."))
PREFIX(FontSlant,  tree,  "slant",
       PARM(a, real, "slant percentage"),
       RTAO(fontItalic(self, a/100)),
       GROUP(text:font)
       SYNOPSIS("Set slant percentage.")
       DESCRIPTION("Set slant percentage.[TODO: J'aurais plutot vu une valeur de a/50 pour que slant 100 donne fontItalic 2, qui est le max] "))
PREFIX(FontRoman,  tree,  "roman", , RTAO(fontItalic(self, 0)),
       GROUP(text:font)
       SYNOPSIS("No slant")
       DESCRIPTION("Set slant value to 0 (min value)."))
PREFIX(FontItalic,  tree,  "italic", , RTAO(fontItalic(self, 1)),
       GROUP(text:font)
       SYNOPSIS("set set italic")
       DESCRIPTION("Set slant value to 1 (medium value). Is equivalent to slant 100"))
PREFIX(FontOblique,  tree,  "oblique", , RTAO(fontItalic(self, 2)),
       GROUP(text:font)
       SYNOPSIS("set to oblique")
       DESCRIPTION("Set slant value to 2 (higher value). Is equivalent to slant 200"))
PREFIX(FontWeight,  tree,  "weight",
       PARM(a, real, "The bold value of the font"),
       RTAO(fontBold(self, a)),
       GROUP(text:font)
       SYNOPSIS("set the bold value of the font")
       DESCRIPTION("Select whether the font is bold or not. Qt weight values range from 0 to 99 with 50 = regular"))
PREFIX(FontRegular,  tree,  "regular", , RTAO(fontBold(self, 50)),
       GROUP(text:font)
       SYNOPSIS("reset bold value to neutral.")
       DESCRIPTION("Reset bold value to neutral. Is equivalent to weight 50."))
PREFIX(FontLight,  tree,  "light", , RTAO(fontBold(self, 25)),
       GROUP(text:font)
       SYNOPSIS("Make the font thin.")
       DESCRIPTION("Make the font thinner. Is equivalent to weight 25"))
PREFIX(FontBold,  tree,  "bold", , RTAO(fontBold(self, 75)),
       GROUP(text:font)
       SYNOPSIS("Make the font bold.")
       DESCRIPTION("Make the font bold. Is equivalent to weight 75"))
PREFIX(FontUnderline,  tree,  "underline",
       PARM(a, real, "Underline values: 0 is off, values > 0 are on."),
       RTAO(fontUnderline(self, a)),
       GROUP(text:font)
       SYNOPSIS("Underline attribute of the font")
       DESCRIPTION("Select whether we underline a font. Qt doesn't support setting the size of the underline, it's on or off."))
PREFIX(FontOverline,  tree,  "overline",
       PARM(a, real, "Overline values: 0 is off, values > 0 are on."),
       RTAO(fontOverline(self, a)),
       GROUP(text:font)
       SYNOPSIS("Overline attribute of the font")
       DESCRIPTION("Select whether we overline a font. Qt doesn't support setting the size of the underline, it's on or off."))
PREFIX(FontStrikeout,  tree,  "strikeout",
       PARM(a, real, "Strikeout values: 0 is off, values > 0 are on."),
       RTAO(fontStrikeout(self, a)),
       GROUP(text:font)
       SYNOPSIS("Strikeout attribute of the font")
       DESCRIPTION("Select whether we strikeout a font. Qt doesn't support setting the size of the underline, it's on or off."))
PREFIX(FontStretch,  tree,  "stretch",
       PARM(s,real, "The font stretching factor. Value range is from 0 to 4000, with 100 = 100%"),
       RTAO(fontStretch(self,s)),
       GROUP(text:font)
       SYNOPSIS("Set font stretching factor")
       DESCRIPTION("Set font stretching factor. Qt font stretch ranges from 0 to 4000, with 100 = 100%."))
PREFIX(Align,  tree,  "align",
       PARM(center, real, "Place the center along x-axis. An amount of 0% align the center of the text on the left of the box, an amount of 100% align the center of the text on the right of the box and an amount of 50% align the center of the text on the center of the box.")
       PARM(justify, real, "Horizontaly justify the text. An amount of 0% doesn't justify (ragged edge), an amount of 100% justifies fully.")
       PARM(spread, real, "[TODO: Quel est la difference entre spread et justify ? Est-ce l'ecart max autorise entre les lettres/mots ?]")
       PARM(full_justify, real, "Horizontaly justify the text in lines that do not have enough characters, typically the last line of a paragraph."),
       RTAO(align(self, center, justify, spread, full_justify, 0)),
       GROUP(text:spread)
       SYNOPSIS("[TODO]")
       DESCRIPTION("[TODO]"))
PREFIX(VAlign,  tree,  "vertical_align",
       PARM(center, real, "Place the center along y-axis. An amount of 0% aligns the center of the text on the top of the box, an amount of 100% aligns the center of the text on the bottom of the box and an amount of 50% centers the text in the box.")
       PARM(justify, real, "Verticaly justify the text. An amount of 0% doesn't justify (pack lines), an amount of 100% fully justifies vertically.")
       PARM(spread, real, "[TODO]")
       PARM(full_justify, real, "Vertically justify the lines in text boxes or overflows that are not full."),
       RTAO(align(self, center, justify, spread, full_justify, 1)),
       GROUP(text:spread)
       SYNOPSIS("[TODO]")
       DESCRIPTION("[TODO]"))
PREFIX(Spacing,  tree,  "word_spacing",
       PARM(factor, real, "[TODO]"),
       RTAO(spacing(self, factor, 0)),
       GROUP(text:spread)
       SYNOPSIS("[TODO]")
       DESCRIPTION("[TODO]"))
PREFIX(VSpacing,  tree,  "line_spacing",
       PARM(factor, real, "[TODO]"),
       RTAO(spacing(self, factor, 1)),
       GROUP(text:spread)
       SYNOPSIS("[TODO]")
       DESCRIPTION("[TODO]"))
PREFIX(MinimumParagraphSpace,  tree,  "paragraph_space",
       PARM(b, real, "Space before the paragraph.")
       PARM(a, real, "Space after the paragraph."),
       RTAO(minimumSpace(self, b, a, 1)),
       GROUP(text:spread)
       SYNOPSIS("Set the space around the paragraph")
       DESCRIPTION("Set the minimum space allowed around the paragraph. [TODO: Quelle valeur faut-il mettre si on ne veut modifier que la valeur avant (ou apres) est-ce -1, ou est-ce que des valeurs negatives sont autorisees et que dans ce cas des paragraphes peuvent se marcher dessus ?]"))
PREFIX(MinimumCharacterSpace,  tree,  "character_space",
       PARM(b, real, "Space before the [TODO].")
       PARM(a, real, "Space after the [TODO]."),
       RTAO(minimumSpace(self, b, a, 0)),
       GROUP(text:spread)
       SYNOPSIS("[TODO: words or characters ?]")
       DESCRIPTION("[TODO: dans widget.cpp on parle d'espace entre mots et non entre charactere. Cette clarification rejoint celles demandees audessus sur le spacing/spread]"))
PREFIX(Margins,  tree,  "margins",
       PARM(l, real, "left margin")
       PARM(r, real, "right margin"),
       RTAO(horizontalMargins(self, l, r)),
       GROUP(text:spread)
       SYNOPSIS("Set the horizontal margin for text")
       DESCRIPTION("Set the minimum space allowed around the page. [TODO: Quelle valeur faut-il mettre si on ne veut modifier que la valeur gauche (ou droite) est-ce -1, ou est-ce que des valeurs negatives sont autorisees et que dans ce cas on peut ecrire dans la marge ?]"))
PREFIX(VMargins,  tree,  "vertical_margins",
       PARM(t, real, "top margin")
       PARM(b, real, "bottom margin"),
       RTAO(verticalMargins(self, t, b)),
       GROUP(text:spread)
       SYNOPSIS("Set the vertical margin for text")
       DESCRIPTION("Set the minimum space allowed around the page. [TODO: Quelle valeur faut-il mettre si on ne veut modifier que la valeur gauche (ou droite) est-ce -1, ou est-ce que des valeurs negatives sont autorisees et que dans ce cas on peut ecrire dans la marge ?]"))
PREFIX(LineBreak,  tree,  "line_break", , RTAO(drawingBreak(self, Tao::Drawing::LineBreak)),
       GROUP(text:spread)
       SYNOPSIS("Insert a line break")
       DESCRIPTION("Insert a line break in the current text."))
PREFIX(SentenceBreak,  tree,  "sentence_break", , RTAO(drawingBreak(self, Tao::Drawing::SentenceBreak)),
       GROUP(text:spread)
       SYNOPSIS("Insert a sentence break")
       DESCRIPTION("Insert a sentence break in the text."))
PREFIX(ParaBreak,  tree,  "paragraph_break", , RTAO(drawingBreak(self, Tao::Drawing::ParaBreak)),
       GROUP(text:spread)
       SYNOPSIS("Insert a paragraph break")
       DESCRIPTION("Insert a paragraph break"))
PREFIX(ColumnBreak,  tree,  "column_break", , RTAO(drawingBreak(self, Tao::Drawing::ColumnBreak)),
       GROUP(text:spread)
       SYNOPSIS("Insert a column break")
       DESCRIPTION("Insert a column break[TODO]"))
PREFIX(PageBreak,  tree,  "page_break", , RTAO(drawingBreak(self, Tao::Drawing::PageBreak)),
       GROUP(text:spread)
       SYNOPSIS("Insert a page break")
       DESCRIPTION("Insert a page break. [TODO]"))
PREFIX(TextEditKey,  boolean,  "text_edit_key",
       PARM(k, text, "key name"),
       RTAO(textEditKey(self, k)),
       GROUP(text)
       SYNOPSIS("[TODO]")
       DESCRIPTION("Send a key to the text editing activities. [TODO: Concretementca fait quoi ???]")
       RETURNS(boolean, "true/false [TODO]"))
PREFIX(LoadText,  tree,  "load_text",
       PARM(f,text, "file name"),
       RTAO(loadText(self,f)),
       GROUP(text:file)
       SYNOPSIS("Load a text file from disk")
       DESCRIPTION("Load a text file from disk. It uses the 'doc' prefix to look into resources")
       RETURNS(tree, "The content of the file."))
PREFIX(TaoLanguage, text, "tao_language", , RTAO(taoLanguage(self)),
       GROUP(text)
       SYNOPSIS("Return the current language used by the Tao program")
       DESCRIPTION("Returns the two-letter ISO 639 language code of the current locale. For instance: en, fr.")
       RETURNS(text, "The current language code"))
PREFIX(TaoVersion,  tree,  "tao_version", , RTAO(taoVersion(self)),
       GROUP(version)
       SYNOPSIS("The Tao version")
       DESCRIPTION("Return the version of the Tao program")
       RETURNS(tree, "The version of the running Tao program"))
PREFIX(DocVersion,  tree,  "doc_version", , RTAO(docVersion(self)),
       GROUP(version)
       SYNOPSIS("The document version")
       DESCRIPTION("Return the version of the current document (if known)")
       RETURNS(tree, "The current document version"))
PREFIX(EnableGlyphCache,  boolean,  "enable_glyph_cache",
       PARM(an, boolean, "on or off"),
       RTAO(enableGlyphCache(self, an)),
       GROUP(text)
       SYNOPSIS("Enable or disable bitmap glyph cache")
       DESCRIPTION("Enable or disable the bitmap glyph cache. Enabled by default. When enabled, drawing text is faster, but typically lower quality especially when fullscreen antialiasing is available.")
       RETURNS(boolean, "True if previous state was on."))



// ============================================================================
//
//   Tables
//
// ============================================================================

PREFIX(NewTableAt,  tree,  "table",
       PARM(x,real, )
       PARM(y, real, )
       PARM(r,integer, )
       PARM(c,integer, )
       PARM(b,code, ),
       RTAO(newTable(context, self, x, y, r, c, b)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(NewTable,  tree,  "table",
       PARM(r,integer, "x-coordinate of the table. 0 if not specified.")
       PARM(c,integer, "y-coordinate of the table. 0 if not specified.")
       PARM(b,code, "The number of row"),
       RTAO(newTable(context, self, r, c, b)),
       GROUP(table)
       SYNOPSIS("Create a table")
       DESCRIPTION("Create a new table. The body is executed in the environement of the tablethat means short name can be used for table description")
       RETURNS(tree, "The result of the body (b) evaluation."))
PREFIX(TableSizedCell,  tree,  "table_cell",
       PARM(w, real, )
       PARM(h, real, )
       PARM(b, code, ),
       RTAO(tableCell(context, self, w, h, b)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(TableCell,  tree,  "table_cell",
       PARM(b, code, "width of the cell if specified, otherwise free size."),
       RTAO(tableCell(context, self, b)),
       GROUP(table)
       SYNOPSIS("Define a free-size cell in the table")
       DESCRIPTION("Define a cell in the context of the table. Short name 'cell' can be used with both syntaxes.")
       RETURNS(tree, "body evaluation result"))
PREFIX(TableMargins2,  tree,  "table_cell_margins",
       PARM(w, real, )
       PARM(h, real, ),
       RTAO(tableMargins(self, w, h)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(TableMargins,  tree,  "table_cell_margins",
       PARM(x, real, "x-coordinate of the table. 0 if not specified.")
       PARM(y, real, "y-coordinate of the table. 0 if not specified.")
       PARM(w, real, "width of the cell if specified, otherwise free size.")
       PARM(h, real, "height of the cell if specified, otherwise free size."),
       RTAO(tableMargins(self, x, y, w, h)),
       GROUP(table)
       SYNOPSIS("Set the margin rectangle for the table.")
       DESCRIPTION("Set the margin rectangle for the table. The short name of the function is margins. It can be used with both syntaxes."))
PREFIX(TableFill,  tree,  "table_cell_fill",
       PARM(b, code, "fill code body."),
       RTAO(tableFill(self, b)),
       GROUP(table)
       SYNOPSIS("fill of the cell")
       DESCRIPTION("Define the fill code for cells"))
PREFIX(TableBorder,  tree,  "table_cell_border",
       PARM(b, code, "border code body."),
       RTAO(tableBorder(self, b)),
       GROUP(table)
       SYNOPSIS("Define the border code for cells")
       DESCRIPTION("Define the border code for cells. The short name is border."))
PREFIX(TableCellX,  tree,  "table_cell_x", , RTAO(tableCellX(self)),
       GROUP(table)
       SYNOPSIS("x-ccordinate of the cell center")
       DESCRIPTION("Get the horizontal center of the current table cell")
       RETURNS(tree, "The coordinate of the center of the current cell on x-axis"))
PREFIX(TableCellY,  tree,  "table_cell_y", , RTAO(tableCellY(self)),
       GROUP(table)
       SYNOPSIS("y-ccordinate of the cell center")
       DESCRIPTION("Get the vertical center of the current table cell")
       RETURNS(tree, "The coordinate of the center of the current cell on y-axis"))
PREFIX(TableCellW,  tree,  "table_cell_w", , RTAO(tableCellW(self)),
       GROUP(table)
       SYNOPSIS("Width of the cell")
       DESCRIPTION("Get the horizontal size of the current table cell")
       RETURNS(tree, "The size of the current cell along the x-axis"))
PREFIX(TableCellH,  tree,  "table_cell_h", , RTAO(tableCellH(self)),
       GROUP(table)
       SYNOPSIS("Height of the cell.")
       DESCRIPTION("Get the vertical size of the current table cell")
       RETURNS(tree, "The size of the current cell along the y-axis"))
PREFIX(TableRow,  tree,  "table_cell_row", , RTAO(tableRow(self)),
       GROUP(table)
       SYNOPSIS("Return the current row")
       DESCRIPTION("Return the current row index")
       RETURNS(tree, "the row index"))
PREFIX(TableColumn,  tree,  "table_cell_column", , RTAO(tableColumn(self)),
       GROUP(table)
       SYNOPSIS("Return the current column")
       DESCRIPTION("Return the current column index.")
       RETURNS(tree, "The column index."))
PREFIX(TableRows,  tree,  "table_rows", , RTAO(tableRows(self)),
       GROUP(table)
       SYNOPSIS("number of rows in the current table")
       DESCRIPTION("Return the number of rows in the current table")
       RETURNS(tree, "Number of rows in the table"))
PREFIX(TableColumns,  tree,  "table_columns", , RTAO(tableColumns(self)),
       GROUP(table)
       SYNOPSIS("number of columns in the current table")
       DESCRIPTION("Return the number of columns in the current table")
       RETURNS(tree, "number of columns in the table"))



// ============================================================================
//
//   Frames and widgets
//
// ============================================================================

PREFIX(Caption,  tree,  "status",
       PARM(t, text, "The text for the status line."),
       RTAO(status(self, t)),
       GROUP(gui)
       SYNOPSIS("Set the status line of the window")
       DESCRIPTION("Set the content of the status line of the window"))
PREFIX(Frame,  tree,  "frame",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(p, code, "The program that represent the content of the frame"),
       RTAO(framePaint(context, self, x, y, w, h, p)),
       GROUP(widget)
       SYNOPSIS("A frame with a content")
       DESCRIPTION("Draw a frame with the described content in 'prog'. This frame as no displayed border. It makes a texture of size (w,h) using 'frame_texture', and map it on a rectangle at (x) location.")
       RETURNS(tree, "The result of 'prog' evaluation"))
PREFIX(FrameTexture,  tree,  "frame_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(p, code, "The program that represent the content of the frame"),
       RTAO(frameTexture(context, self, w, h, p)),
       GROUP(widget)
       SYNOPSIS("A texture with content")
       DESCRIPTION("Make a texture out of the described content")
       RETURNS(tree, "The result of 'prog' evaluation"))       
PREFIX(LinearGradient,  tree,  "linear_gradient",
       PARM(start_x, real, "x-coordinate of the gradient start")
       PARM(start_y, real, "y-coordinate of the gradient start")
       PARM(end_x, real, "x-coordinate of the gradient end")
       PARM(end_y, real, "y-coordinate of the gradient end")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(p, code, "The program that allow to define colors for the gradient"),
       RTAO(linearGradient(context, self, start_x, start_y, end_x, end_y, w, h, p)),
       GROUP(widget)
       SYNOPSIS("A linear gradient with content as colors")
       DESCRIPTION("Make a linear gradient")
       RETURNS(tree, "The id of current gradient"))
PREFIX(RadialGradient,  tree,  "radial_gradient",
       PARM(center_x, real, "x-coordinate of the gradient center")
       PARM(center_y, real, "y-coordinate of the gradient center")
       PARM(radius, real, "gradient radius")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(p, code, "The program that allow to define colors for the gradient"),
       RTAO(radialGradient(context, self, center_x, center_y, radius, w, h, p)),
       GROUP(widget)
       SYNOPSIS("A radial gradient with content as colors")
       DESCRIPTION("Make a radial gradient")
       RETURNS(tree, "The id of current gradient"))
PREFIX(ConicalGradient,  tree,  "conical_gradient",
       PARM(center_x, real, "x-coordinate of the gradient center")
       PARM(center_y, real, "y-coordinate of the gradient center")
       PARM(angle, real, "gradient angle")
       PARM(w, real, "width")
       PARM(h, real, "height")
       PARM(p, code, "The program that allow to define colors for the gradient"),
       RTAO(conicalGradient(context, self, center_x, center_y, angle, w, h, p)),
       GROUP(widget)
       SYNOPSIS("A conical gradient with content as colors")
       DESCRIPTION("Make a conical gradient")
       RETURNS(tree, "The id of current gradient"))
PREFIX(Url,  tree,  "url",
       PARM(x,real, )
       PARM(y,real, )
       PARM(w,real, )
       PARM(h,real, )
       PARM(u, text, ),
       RTAO(urlPaint(self, x, y, w, h, u, NULL)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(UrlProgress,  tree,  "url",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(u, text, "The URL to display")
       PARM(progress, integer, "[out] The progession of the load in output."),
       RTAO(urlPaint(self, x, y, w, h, u, progress)),
       GROUP(widget)
       SYNOPSIS("Draw a web container")
       DESCRIPTION("Load from the given URL a web page and draw it. It uses the QT webkit. "))
PREFIX(UrlTexture,  tree,  "url_texture",
       PARM(w,real, )
       PARM(h,real, )
       PARM(u, text, ),
       RTAO(urlTexture(self, w, h, u, NULL)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(UrlTextureProgress,  tree,  "url_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(u, text, "The URL to display")
       PARM(progress, integer, "The progession of the load. 0 if not provided"),
       RTAO(urlTexture(self, w, h, u, progress)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given URL")
       DESCRIPTION("Load from the given URL a web page and draw it. It uses the QT webkit. "))
PREFIX(LineEdit,  tree,  "line_edit",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(u, text, "The text in the line edit widget. It is an in/out parameter."),
       RTAO(lineEdit(self, x, y, w, h, u)),
       GROUP(widget)
       SYNOPSIS("Draw a line editor in the current frame")
       DESCRIPTION("A line edit allows the user to enter and edit a single line of plain text with a useful collection of editing functions, including undo and redo, cut and paste, and drag and drop."))
PREFIX(LineEditTexture,  tree,  "line_edit_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(u, text, "The text to insert in the line edit widget."),
       RTAO(lineEditTexture(self, w, h, u)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given line editor")
       DESCRIPTION(""))

PREFIX(TextEdit,  tree,  "text_edit",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(p, code, "The description of the text"),
       RTAO(textEdit(context, self, x, y, w, h, p)),
       GROUP(widget)
       SYNOPSIS("Draw a text editor in the current frame")
       DESCRIPTION("A text edit allows the user to enter and edit some text with a useful collection of editing functions, including undo and redo, cut and paste, and drag and drop."))
PREFIX(TextEditTexture,  tree,  "text_edit_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(p, code, "The text to insert in the text edit widget."),
       RTAO(textEditTexture(context, self, w, h, p)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given editor")
       DESCRIPTION(""))

PREFIX(PushButton,  tree,  "push_button",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(n, text, "Name that uniquely identify this button")
       PARM(l, text, "Label of the button")
       PARM(a, code, "The action to perform when the button is clicked."),
       RTAO(pushButton(self, x, y, w, h, n, l, a)),
       GROUP(widget)
       SYNOPSIS("A push button")
       DESCRIPTION("Draw a simple push button in the curent frame. The look and feel of the button is platform dependant. "))
PREFIX(PushButtonTexture,  tree,  "push_button_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(n, text, "Name that uniquely identify this button")
       PARM(l, text, "Label of the button")
       PARM(a, code, "The action to perform when the button is clicked."),
       RTAO(pushButtonTexture(self, w, h, n, l, a)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given push button")
       DESCRIPTION("Make a platform dependant texture out of a given push button"))

PREFIX(RadioButton,  tree,  "radio_button",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(n, text, "Name that uniquely identify this button")
       PARM(l, text, "Label of the button")
       PARM(m, text, "True if the button is selected")
       PARM(a, code, "The action to perform when the button state change from non-selected to selected."),
       RTAO(radioButton(self, x, y, w, h, n, l, m, a)),
       GROUP(widget)
       SYNOPSIS("Draw a radio button")
       DESCRIPTION("Draw a radio button in the curent frame. Associate the action to perform when the button state change from non-selected to selected. Radio buttons are mutually exclusive, if you want to have multiple groups of radio button, uses the button_group."))
PREFIX(RadioButtonTexture,  tree,  "radio_button_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(n, text, "Name that uniquely identify this button")
       PARM(l, text, "Label of the button")
       PARM(m, text, "True if the button is selected")
       PARM(a, code, "The action to perform when the button state change from non-selected to selected."),
       RTAO(radioButtonTexture(self, w, h, n, l, m, a)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given radio button")
       DESCRIPTION("Make a texture out of a given radio button"))

PREFIX(CheckBoxButton,  tree,  "check_box_button",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(n, text, "Name that uniquely identify this button")
       PARM(l, text, "Label of the button")
       PARM(m, text, "True if the button is marked")
       PARM(a, code, "The action to perform when the button state change from non-sed."),
       RTAO(checkBoxButton(self, x, y, w, h, n, l, m, a)),
       GROUP(widget)
       SYNOPSIS("Draw a check button")
       DESCRIPTION("Draw a check button in the curent frame"))
PREFIX(CheckBoxButtonTexture,  tree,  "check_box_button_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(n, text, "Name that uniquely identify this button")
       PARM(l, text, "Label of the button")
       PARM(m, text, "True if the button is marked")
       PARM(a, code, "The action to perform when the button state change from non-set to set"),
       RTAO(checkBoxButtonTexture(self, w, h, n, l, m, a)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given checkbox button")
       DESCRIPTION("Make a texture out of a given checkbox button"))

PREFIX(ColorChooser,  tree,  "color_chooser",
       PARM(x,real, )
       PARM(y,real, )
       PARM(w,real, )
       PARM(h,real, )
       PARM(t,tree, ),
       RTAO(colorChooser(self, x, y, w, h, t)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(ColorChooserNow,  tree,  "color_chooser",
       PARM(n, text, "x-coordinate")
       PARM(t,tree, "y-coordinate"),
       RTAO(colorChooser(self, n, t)),
       GROUP(widget)
       SYNOPSIS("Draw a color chooser")
       DESCRIPTION("Pop a window with the platform dependant color chooser inside.\
Once the color is chosen Names 'red', 'green', 'blue', and 'alpha' are replaced in the given tree by the corresponding value in the selected color. Then the resulting tree is evaluated. \
 'name' is used to register and uses a color attribute : 'line_color' and 'color' are defined.  "))

PREFIX(ColorChooserTexture,  tree,  "color_chooser_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(t,tree, "tree to update with new color"),
       RTAO(colorChooserTexture(self, w, h, t)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given color chooser")
       DESCRIPTION("Make a texture out of a given color chooser"))
PREFIX(FontChooserNow,  tree,  "font_chooser",
       PARM(t,tree, ),
       RTAO(fontChooser(self, t)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(FontChooser,  tree,  "font_chooser",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(t,tree, "tree to update with new font"),
       RTAO(fontChooser(self, x, y, w, h, t)),
       GROUP(widget)
       SYNOPSIS("font chooser")
       DESCRIPTION("Pop a window with the platform dependant font chooser inside. \
Once the font is chosen, Names 'font_family', 'font_size', 'font_weight', 'font_slant', 'font_stretch', 'font_is_italic', and 'font_is_bold' are replaced by their corresponding values in the selected font. The resulting tree is then evaluated."))
PREFIX(FontChooserTexture,  tree,  "font_chooser_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(t,tree, "tree to update with new font"),
       RTAO(fontChooserTexture(self, w, h, t)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given color chooser")
       DESCRIPTION("Make a texture out of a given color chooser"))
PREFIX(FileChooser,  tree,  "file_chooser",
       PARM(x,real, )
       PARM(y,real, )
       PARM(w,real, )
       PARM(h,real, )
       PARM(t,tree, ),
       RTAO(fileChooser(self, x, y, w, h, t)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(FileChooserNow,  tree,  "file_chooser",
       PARM(t,tree, "x-coordinate"),
       RTAO(fileChooser(self, t)),
       GROUP(widget)
       SYNOPSIS("Draw a file chooser")
       DESCRIPTION("Pop a window with the platform dependant file chooser inside. \
The file_chooser can be parameterized with 4 atributes which are 'action', 'directory', 'label' and 'filter'. Those attributes are defined in the function with file_chooser_ prefix. \
Once the file is selected, Names 'file_name', 'file_directory', 'file_path', and 'rel_file_path' are replaced by their corresponding values from the selected file."))
PREFIX(FileChooserTexture,  tree,  "file_chooser_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(t,tree, "tree to update with new file"),
       RTAO(fileChooserTexture(self, w, h, t)),
       GROUP(widget)
       SYNOPSIS("Make a texture out of a given file chooser")
       DESCRIPTION("Make a texture out of a given file chooser"))
PREFIX(SetFileDialogAction,  tree,  "file_chooser_action",
       PARM(t, code, "The action to modify and execute when file is chosen."),
       RTAO(setFileDialogAction(self, t)),
       GROUP(widget)
       SYNOPSIS("File chooser action")
       DESCRIPTION("Set the action that will be execute when OK is pressed. Only available in a file chooser sub tree."))
PREFIX(SetFileDialogDirectory,  tree,  "file_chooser_directory",
       PARM(d, text, "directory name"),
       RTAO(setFileDialogDirectory(self, d)),
       GROUP(widget)
       SYNOPSIS("File chooser directory")
       DESCRIPTION("Set the directory to open first. Only available in a file chooser sub tree."))
PREFIX(SetFileDialogFilter,  tree,  "file_chooser_filter",
       PARM(d, text, "filter for file"),
       RTAO(setFileDialogFilter(self, d)),
       GROUP(widget)
       SYNOPSIS("Set the file filters")
       DESCRIPTION("Set the file filters (file pattern, e.g. *.img). Only available in a file chooser sub tree."))
PREFIX(SetFileDialogLabel,  tree,  "file_chooser_label",
       PARM(lbl, text, "The label for the file chooser dialog box.")
       PARM(v, text, ),
       RTAO(setFileDialogLabel(self, lbl, v)),
       GROUP(widget)
       SYNOPSIS("Set labels on a file dialog")
       DESCRIPTION("Set labels on a file dialog. Only available in a file chooser sub tree."))

PREFIX(ButtonGroup,  tree,  "button_group",
       PARM(ex, boolean, "If true, the group is exclusive.")
       PARM(b, code, "The code of buttons"),
       RTAO(buttonGroup(context, self, ex, b)),
       GROUP(widget)
       SYNOPSIS("Create a button group.")
       DESCRIPTION("Create a group. Buttons included in this group are mutually exclusive. It is useful to create multiple group of radio buttons"))

PREFIX(Action,  tree,  "button_group_action",
       PARM(act, code, "The action."),
       RTAO(setButtonGroupAction(self, act)),
       GROUP(widget)
       SYNOPSIS("Action of the group")
       DESCRIPTION("Set the action to be executed by the current buttonGroup.When a button in the group is clicked, this action is triggered as well as the button's action."))

PREFIX(GroupBox,  tree,  "group_box",
       PARM(x,real, "x-coordinate of this box")
       PARM(y,real, "y-coordinate of this box")
       PARM(w,real, "width of this box")
       PARM(h,real, "height of this box")
       PARM(lbl, text, "The label of the box")
       PARM(b, code, "The tree describing the content of the box"),
       RTAO(groupBox(context, self, x, y, w, h, lbl, b)),
       GROUP(widget)
       SYNOPSIS("group box")
       DESCRIPTION("Draw a group box in the current frame. The x and y coordinate of widgets placed in this box are the colomn and row number. Total number of rows and columns is dynamic."))
PREFIX(GroupBoxTexture,  tree,  "group_box_texture",
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(lbl, text, "The label of the box"),
       RTAO(groupBoxTexture(self, w, h, lbl)),
       GROUP(widget)
       SYNOPSIS("Texture group box.")
       DESCRIPTION("Make a texture out of a given group box."))

PREFIX(Movie,  tree,  "movie",
       PARM(x,real, "x-coordinate")
       PARM(y,real, "y-coordinate")
       PARM(w,real, "width")
       PARM(h,real, "height")
       PARM(u,text, "The URL of the movie to play."),
       RTAO(movie(self, x, y, w, h, u)),
       GROUP(widget)
       SYNOPSIS("Play a movie")
       DESCRIPTION("Display a movie in the rectangle specified by the given coordinates. Supported movie formats depend on the operating system."))
PREFIX(MovieTexture,  tree,  "movie_texture",
       PARM(u,text, "The URL of the movie to play"),
       RTAO(movieTexture(self, u)),
       GROUP(widget)
       SYNOPSIS("Create a texture from a video.")
       DESCRIPTION("Create a dynamic texture from the given movie."))



// ============================================================================
//
//   Lighting
//
// ============================================================================

PREFIX(LightID, tree, "light", PARM(l, integer,) PARM(b, boolean,),
       RTAO(lightId(self, l, b)),
       GROUP(lighting)
       SYNOPSIS("Select which light we are working with")
       DESCRIPTION(""))
PREFIX(LightEnable, tree, "light", PARM(l, integer,),
       RTAO(lightId(self, l, true)),
       GROUP(lighting)
       SYNOPSIS("Select which light we are working with")
       DESCRIPTION(""))

PREFIX(LightAmbient, tree, "light_ambient",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(light(self, GL_AMBIENT, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the ambient light")
       DESCRIPTION(""))
PREFIX(LightDiffuse, tree, "light_diffuse",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(light(self, GL_DIFFUSE, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the diffuse light")
       DESCRIPTION(""))
PREFIX(LightSpecular, tree, "light_specular",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(light(self, GL_SPECULAR, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the specular light")
       DESCRIPTION(""))
PREFIX(LightPosition3, tree, "light_position",
       PARM(x, real,) PARM(y, real,) PARM(z, real,),
       RTAO(light(self, GL_POSITION, x, y, z, 0)),
       GROUP(lighting)
       SYNOPSIS("Select the position of the light")
       DESCRIPTION(""))
PREFIX(LightPosition, tree, "light_position",
       PARM(x, real,) PARM(y, real,) PARM(z, real,) PARM(w, real,),
       RTAO(light(self, GL_POSITION, x, y, z, w)),
       GROUP(lighting)
       SYNOPSIS("Select the position of the light")
       DESCRIPTION(""))
PREFIX(LightSpotDirection, tree, "light_spot_direction",
       PARM(x, real,) PARM(y, real,) PARM(z, real,),
       RTAO(light(self, GL_SPOT_DIRECTION, x, y, z)),
       GROUP(lighting)
       SYNOPSIS("Select the direction of spot lights")
       DESCRIPTION(""))
PREFIX(LightSpotExponent, tree, "light_spot_exponent", PARM(x, real,),
       RTAO(light(self, GL_SPOT_EXPONENT, x)),
       GROUP(lighting)
       SYNOPSIS("Select the cutoff exponent for spot lights")
       DESCRIPTION(""))
PREFIX(LightSpotCutoff, tree, "light_spot_cutoff", PARM(x, real,),
       RTAO(light(self, GL_SPOT_CUTOFF, x)),
       GROUP(lighting)
       SYNOPSIS("Select the cutoff angle for spot lights")
       DESCRIPTION(""))
PREFIX(LightAttenuation, tree, "light_attenuation",
       PARM(x, real,) PARM(y, real,) PARM(z, real,),
       TAO(light(self, GL_CONSTANT_ATTENUATION, x));
       TAO(light(self, GL_LINEAR_ATTENUATION, y));
       TAO(light(self, GL_QUADRATIC_ATTENUATION, z));
       return XL::xl_true,
       GROUP(lighting)
       SYNOPSIS("Select the light attenuation factor")
       DESCRIPTION(""))

PREFIX(MaterialAmbient, tree, "material_ambient",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT_AND_BACK, GL_AMBIENT, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the ambient material")
       DESCRIPTION(""))
PREFIX(MaterialDiffuse, tree, "material_diffuse",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT_AND_BACK, GL_DIFFUSE, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the diffuse material")
       DESCRIPTION(""))
PREFIX(MaterialSpecular, tree, "material_specular",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT_AND_BACK, GL_SPECULAR, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the specular material")
       DESCRIPTION(""))
PREFIX(MaterialEmission, tree, "material_emission",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT_AND_BACK, GL_EMISSION, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the emission of the material")
       DESCRIPTION(""))
PREFIX(MaterialShininess, tree, "material_shininess", PARM(x, real,),
       RTAO(material(self, GL_FRONT_AND_BACK, GL_SHININESS, x)),
       GROUP(lighting)
       SYNOPSIS("Select the shininess of the material")
       DESCRIPTION(""))

PREFIX(MaterialFrontAmbient, tree, "material_front_ambient",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT, GL_AMBIENT, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the ambient material")
       DESCRIPTION(""))
PREFIX(MaterialFrontDiffuse, tree, "material_front_diffuse",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT, GL_DIFFUSE, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the diffuse material")
       DESCRIPTION(""))
PREFIX(MaterialFrontSpecular, tree, "material_front_specular",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT, GL_SPECULAR, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the specular material")
       DESCRIPTION(""))
PREFIX(MaterialFrontEmission, tree, "material_front_emission",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_FRONT, GL_EMISSION, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the emission of the material")
       DESCRIPTION(""))
PREFIX(MaterialFrontShininess, tree, "material_front_shininess", PARM(x, real,),
       RTAO(material(self, GL_FRONT, GL_SHININESS, x)),
       GROUP(lighting)
       SYNOPSIS("Select the shininess of the material")
       DESCRIPTION(""))
PREFIX(MaterialBackAmbient, tree, "material_back_ambient",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_BACK, GL_AMBIENT, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the ambient material")
       DESCRIPTION(""))
PREFIX(MaterialBackDiffuse, tree, "material_back_diffuse",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_BACK, GL_DIFFUSE, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the diffuse material")
       DESCRIPTION(""))
PREFIX(MaterialBackSpecular, tree, "material_back_specular",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_BACK, GL_SPECULAR, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the specular material")
       DESCRIPTION(""))
PREFIX(MaterialBackEmission, tree, "material_back_emission",
       PARM(r, real,) PARM(g, real,) PARM(b, real,) PARM(a, real,),
       RTAO(material(self, GL_BACK, GL_EMISSION, r, g, b, a)),
       GROUP(lighting)
       SYNOPSIS("Select the emission of the material")
       DESCRIPTION(""))
PREFIX(MaterialBackShininess, tree, "material_back_shininess", PARM(x, real,),
       RTAO(material(self, GL_BACK, GL_SHININESS, x)),
       GROUP(lighting)
       SYNOPSIS("Select the shininess of the material")
       DESCRIPTION(""))

PREFIX(ShaderProgram, tree, "shader_program", PARM(program, code,),
       RTAO(shaderProgram(context, self, program)),
       GROUP(lighting)
       SYNOPSIS("Define a shader program")
       DESCRIPTION(""))
PREFIX(VertexShaderFromSource, tree, "vertex_shader", PARM(src, text,),
       RTAO(shaderFromSource(self, Tao::Widget::VERTEX, src)),
       GROUP(lighting)
       SYNOPSIS("Define a vertex shader")
       DESCRIPTION(""))
PREFIX(VertexShaderFromFile, tree, "vertex_shader_file", PARM(file, text,),
       RTAO(shaderFromFile(self, Tao::Widget::VERTEX, file)),
       GROUP(lighting)
       SYNOPSIS("Define a vertex shader")
       DESCRIPTION(""))
PREFIX(FragmentShaderFromSource, tree, "fragment_shader",
       PARM(src, text, "Source code for the fragment shader"),
       RTAO(shaderFromSource(self, Tao::Widget::FRAGMENT, src)),
       GROUP(graph:shading)
       SYNOPSIS("Define a fragment shader"))
PREFIX(FragmentShaderFromFile, tree, "fragment_shader_file",
       PARM(file, text, "Name of fragment shader file"),
       RTAO(shaderFromFile(self, Tao::Widget::FRAGMENT, file)),
       GROUP(graph:shading)
       SYNOPSIS("Load a fragment shader from a file"))
PREFIX(GeometryShaderFromSource, tree, "geometry_shader",
       PARM(src, text, "Source code for the shader"),
       RTAO(shaderFromSource(self, Tao::Widget::GEOMETRY, src)),
       GROUP(graph:shading)
       SYNOPSIS("Define a geometry shader"))
PREFIX(GeometryShaderFromFile, tree, "geometry_shader_file",
       PARM(file, text, "File name for the shader"),
       RTAO(shaderFromFile(self, Tao::Widget::GEOMETRY, file)),
       GROUP(graph:shading)
       SYNOPSIS("Define a geometry shader"))
PREFIX(ShaderLog, text, "shader_log", , RTAO(shaderLog(self)),
       GROUP(graph:shading)
       SYNOPSIS("Return the shader compilation log")
       DESCRIPTION(""))
PREFIX(GeometryInputType, integer, "geometry_shader_input", ,
       RTAO(geometryInputType(self)),
       SYNOPSIS("Get geometry shader input type")
       GROUP(graph:shading)
       DESCRIPTION(""))
PREFIX(SetGeometryInputType, boolean, "geometry_shader_input",
       PARM(type, integer, "Input type"),
       RTAO(setGeometryInputType(self, type)),
       GROUP(graph:shading)
       SYNOPSIS("Set geometry shader input type")
       DESCRIPTION(""))
PREFIX(GeometryOutputType, integer, "geometry_shader_output", ,
       RTAO(geometryOutputType(self)),
       SYNOPSIS("Get geometry shader output type")
       GROUP(graph:shading)
       DESCRIPTION(""))
PREFIX(SetGeometryOutputType, boolean, "geometry_shader_output",
       PARM(type, integer, "Output type"),
       RTAO(setGeometryOutputType(self, type)),
       GROUP(graph:shading)
       SYNOPSIS("Set geometry shader output type")
       DESCRIPTION(""))
PREFIX(GeometryOutputCount, integer, "geometry_shader_count", ,
       RTAO(geometryOutputCount(self)),
       SYNOPSIS("Get geometry shader vertices count")
       GROUP(graph:shading)
       DESCRIPTION(""))
PREFIX(SetGeometryOutputCount, boolean, "geometry_shader_count",
       PARM(count, integer, "output count"),
       RTAO(setGeometryOutputCount(self, count)),
       GROUP(graph:shading)
       SYNOPSIS("Set geometry shader vertices count")
       DESCRIPTION(""))
PREFIX(ShaderSet, tree, "shader_set",
       PARM(t, source, "Assignment to a shader variable"),
       RTAO(shaderSet(context, self, t)),
       GROUP(lighting)
       SYNOPSIS("Set a shader uniform or attribute value")
       DESCRIPTION(""));

// ============================================================================
//
//   Chooser
//
// ============================================================================

PREFIX(Chooser,  tree,  "chooser",
       PARM(n, text, "The caption of the chooser."),
       RTAO(chooser(context, self, n)),
       GROUP(code:chooser)
       SYNOPSIS("")
       DESCRIPTION("Create a chooser with the given caption. A chooser shows a selection among the possible commands"))
PREFIX(ChooserChoice,  tree,  "chooser_choice",
       PARM(n, text, "label of the command")
       PARM(t, code, "the command"),
       RTAO(chooserChoice(self, n, t)),
       GROUP(code:chooser)
       SYNOPSIS("Add a command in the chooser list.")
       DESCRIPTION("Create a chooser item and associate a command"))
PREFIX(ChooserCommands,  tree,  "chooser_commands",
       PARM(p, text, "The prefix")
       PARM(t,text, "The label"),
       RTAO(chooserCommands(self, p, t)),
       GROUP(code:chooser)
       SYNOPSIS("Add all commands from the symbols list.")
       DESCRIPTION(" Add all commands in the current symbol table that have the given prefix"))
PREFIX(ChooserPages,  tree,  "chooser_pages",
       PARM(p, symbol, "The prefix that will be added to the page name")
       PARM(l, text, "The text that will be added as label prefix to the name of pages."),
       RTAO(chooserPages(self, p, l)),
       GROUP(code:chooser)
       SYNOPSIS("pages added to the chooser")
       DESCRIPTION("Add the list of pages to the chooser"))
PREFIX(ChooserBranches,  tree,  "chooser_branches",
       PARM(p, symbol, "The action to execute when branch is selected (will be passed branch name as text)")
       PARM(l, text, "The text that will be added as label prefix to the name of branches."),
       RTAO(chooserBranches(self, p, l)),
       GROUP(code:chooser)
       SYNOPSIS("branches added to the chooser")
       DESCRIPTION("Add the list of project branches to the chooser"))
PREFIX(ChooserCommits,  tree,  "chooser_commits",
       PARM(b, text, "The branch name")
       PARM(p, symbol, "The action to execute when commit is selected (will be passed commit ID as text)")
       PARM(l, text, "The text that will be added as label prefix to the commit log."),
       RTAO(chooserCommits(self, b, p, l)),
       GROUP(code:chooser)
       SYNOPSIS("commits added to the chooser")
       DESCRIPTION("Add the branch history (commits) to the chooser"))
PREFIX(Checkout,  tree,  "checkout",
       PARM(t, text, "The name of the branch, or the commit ID, to checkout."),
       RTAO(checkout(self, t)),
       GROUP(code:checkout)
       SYNOPSIS("")
       DESCRIPTION("Checkout a branch or a commit"))
PREFIX(CurrentRepository,  boolean,  "current_repository",,
       RTAO(currentRepository(self)),
       GROUP(code:checkout)
       SYNOPSIS("Return true if we use a git repository with the current document")
       DESCRIPTION("Return true if the current document is stored in a repository, Git functionality is compiled in, and not disabled on the command line"))
PREFIX(ChooserCloseDocument, tree, "chooser_command_Close_current_document",
       /* No param */,
       RTAO(closeCurrentDocument(self)),
       GROUP(chooser)
       SYNOPSIS("")
       DESCRIPTION("Close the current document window"))
PREFIX(ChooserQuitTao, tree, "chooser_command_Quit_Tao",
       /* No param */,
       RTAO(quitTao(self)),
       GROUP(chooser)
       SYNOPSIS("")
       DESCRIPTION("Quit the application"))



// ============================================================================
//
//    Menus
//
// ============================================================================

PREFIX(Menu,  tree,  "menu",
       PARM(n, text, "Name that uniquely identify this menu")
       PARM(lbl, text, "The label of the menu")
       PARM(icon, text, "The name of the icon (filename)."),
       RTAO(menu(self, n, lbl, icon, false)),
       GROUP(widget:menu)
       SYNOPSIS("Create/Select a menu")
       DESCRIPTION("Add the menu to the current menu bar or create the contextual menu. If the menu already exist, it is updated and set as the current menu"))

PREFIX(SubMenu,  tree,  "submenu",
       PARM(name, text, "Name that uniquely identify this menu")
       PARM(lbl, text, "The label of the menu")
       PARM(icon, text, "The name of the icon (filename)."),
       RTAO(menu(self, name, lbl, icon, true)),
       GROUP(widget:menu)
       SYNOPSIS("Create/Select a submenu")
       DESCRIPTION("Add the submenu to the current menu. If the submenu already exist, it is updated and set as the current menu"))

PREFIX(MenuItem,  tree,  "menu_item",
       PARM(n, text, "Name that uniquely identify this entry")
       PARM(lbl, text, "The label of the entry")
       PARM(icon, text, "The name of the icon (filename).")
       PARM(cable, boolean, "Should this entry carry a check box ?")
       PARM(isc, text, "If this entry carries a check box, is it cheked or not.")
       PARM(t, code, "The command to execute on item selection."),
       RTAO(menuItem(self, n, lbl, icon, cable, isc, t)),
       GROUP(widget:menu)
       SYNOPSIS("add an entry in a menu")
       DESCRIPTION("Add an entry in the current menu with the label, icon, checkmark and command."))

PREFIX(ToolBar,  tree,  "toolbar",
       PARM(name, text, "Name that uniquely identify this toolbar")
       PARM(lbl, text, "The label of the toolbar")
       PARM(loc, text, "The location of the toolbar in the widget. Supported values are [n|N]*, [e|E]*, [s|S]*, [w|W|o|O]*"),
       RTAO(toolBar(self, name, lbl, true, loc)),
       GROUP(widget:menu)
       SYNOPSIS("Add the toolBar")
       DESCRIPTION("Add the toolBar to the current widget at the specify location."))

PREFIX(MenuBar,  tree,  "menubar", , RTAO(menuBar(self)),
       GROUP(widget:menu)
       SYNOPSIS("Set the current menubar")
       DESCRIPTION("Set the current menubar to the default menuBar"))

PREFIX(Separator,  tree,  "separator", , RTAO(separator(self)),
       GROUP(widget:menu)
       SYNOPSIS("Add a separator")
       DESCRIPTION("Add a separator to the current menu or menu bar or tool bar. "))


// ============================================================================
//
//   Error management
//
// ============================================================================

PREFIX(ErrorMessage,  tree,  "error",
       PARM(m, text, )
       PARM(s, tree, )
       , return Tao::Widget::runtimeError(self, m, s),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(ErrorMessage0,  tree,  "error",
       PARM(m, text, "The message to display")
       , return Tao::Widget::runtimeError(self, m, NULL),
       GROUP()
       SYNOPSIS("Display an error message from the input")
       DESCRIPTION("Display an error message from the input")
       RETURNS(tree, "[TODO]"))



// ============================================================================
//
//   Tree management
//
// ============================================================================

PREFIX(Insert0,  boolean,  "insert",
       PARM(m, text, )
       PARM(t, tree, ),
       RTAO(insert(self, t, m)),
       GROUP()
       SYNOPSIS("")
       DESCRIPTION(""))
PREFIX(Insert,  boolean,  "insert",
       PARM(t, tree, "message used to mark the change in the version management tool (git). "),
       RTAO(insert(self, t)),
       GROUP(tree)
       SYNOPSIS("Insert code")
       DESCRIPTION("Insert at the end of page or program"))
PREFIX(Delete,  boolean,  "delete_selection",
       PARM(k, text, "key [TODO]"),
       RTAO(deleteSelection(self, k)),
       GROUP(tree)
       SYNOPSIS("Delete the selection")
       DESCRIPTION("Delete the selection (with text support)"))
PREFIX(SetAttribute,  boolean,  "set_attribute",
       PARM(n, text, "Attribute name")
       PARM(t, tree, "Attribute value "),
       RTAO(setAttribute(self, n, t, "group,shape")),
       GROUP(tree)
       SYNOPSIS("set attribute is selection")
       DESCRIPTION("Insert the tree in all shapes in the selection"))



// ============================================================================
//
//   z order management
//
// ============================================================================

PREFIX(BringToFront,  boolean,  "bring_to_front", , RTAO(bringToFront(self)),
       GROUP(code:zorder)
       SYNOPSIS("Bring the selected shape to front")
       DESCRIPTION("Bring the selected shape to front. This moves the source code of the selection to the end of the page or program"))
PREFIX(BringForward,  boolean,  "bring_forward", , RTAO(bringForward(self)),
       GROUP(code:zorder)
       SYNOPSIS("Bring the selection one forward")
       DESCRIPTION("Swap the selected shape and the one in front of it. This is done by swaping code in the source."))
PREFIX(SendToBack,  boolean,  "send_to_back", , RTAO(sendToBack(self)),
       GROUP(code:zorder)
       SYNOPSIS("Send the selected shape to back")
       DESCRIPTION("Send the selected shape to back. This moves the source code of the selection to the begining of the page or program"))
PREFIX(SendBackward,  boolean,  "send_backward", , RTAO(sendBackward(self)),
       GROUP(code:zorder)
       SYNOPSIS("Send the selection one backward")
       DESCRIPTION("Swap the selected shape and the one just behind it. This is done by swaping code in the source."))

// ============================================================================
//
//   group management
//
// ============================================================================

PREFIX(Group,  tree,  "group",
       PARM(t, code, "The code to group"),
       RTAO(group(context, self, t)),
       GROUP(code:group)
       SYNOPSIS("Create a logical group")
       DESCRIPTION("Group objects together, make them selectable as a whole."))
PREFIX(GroupSelection,  boolean,  "group_selection", ,
       RTAO(groupSelection(self)),
       GROUP(code:group)
       SYNOPSIS("Create the group from the selected objects")
       DESCRIPTION("Modify the source code to group the selection."))
PREFIX(UngroupSelection,  boolean,  "ungroup_selection", ,
       RTAO(ungroupSelection(self)),
       GROUP(code:group)
       SYNOPSIS("ungroup the selected group")
       DESCRIPTION("Modify the source code to ungroup the selection"))



// ============================================================================
//
//   Unit conversions
//
// ============================================================================

POSTFIX(FromCm,    real,
        PARM(x, real, "The value in cm")
        ,  "cm", RTAO(fromCm(self, x)),
        GROUP(code:unit)
        SYNOPSIS("Convert from cm to pixels")
        DESCRIPTION("Convert from cm to pixels")
        RETURNS(real, "The value in pixel. "))
POSTFIX(FromMm,    real,
        PARM(x, real, "The value in mm")
        ,  "mm", RTAO(fromMm(self, x)),
        GROUP(code:unit)
        SYNOPSIS("Convert from mm to pixels")
        DESCRIPTION("Convert from mm to pixels")
        RETURNS(real, "The value in pixel. "))
POSTFIX(FromInch,  real,
        PARM(x, real, "The value in inch")
        ,  "inch", RTAO(fromIn(self, x)),
        GROUP(code:unit)
        SYNOPSIS("Convert from inch to pixels")
        DESCRIPTION("Convert from inch to pixels")
        RETURNS(real, "The value in pixel. "))
POSTFIX(FromPt,    real,
        PARM(x, real, "The value in point")
        ,  "pt", RTAO(fromPt(self, x)),
        GROUP(code:unit)
        SYNOPSIS("Convert from pt to pixels")
        DESCRIPTION("Convert from pt to pixels")
        RETURNS(real, "The value in pixel. "))
POSTFIX(FromPx,    real,
        PARM(x, real, "The value in pixel")
        ,  "px", RTAO(fromPx(self, x)),
        GROUP(code:unit)
        SYNOPSIS("Convert from pixel")
        DESCRIPTION("Convert from pixel (currently 1-1 mappingcould be based on scaling?)")
        RETURNS(real, "The value in pixel. "))



// ============================================================================
//
//   Misc...
//
// ============================================================================

PREFIX(Constant,  tree,  "constant",
       PARM(t, tree, "the tree that is constant"),
       RTAO(constant(self, t)),
       GROUP(code)
       SYNOPSIS("a constant tree")
       DESCRIPTION("A tree that cannot be modify.")
       RETURNS(tree, "the tree"))

PREFIX(Exit, integer, "exit",
       PARM(n, integer, "exit parameter"), exit(n.value);,
       GROUP(code)
       SYNOPSIS("Exit from Tao")
       DESCRIPTION("Exit from Tao with the given value"))

PREFIX(GenDoc,  text,  "generate_doc",
       PARM(t, tree, "The tree from wich extracting the documentation"),
       RTAO(generateDoc(self, t, "XL")),
       GROUP(documentation)
       SYNOPSIS("generate the doc for the specified tree ")
       DESCRIPTION("Extract the documentation from the specified tree. ")
       RETURNS(text, "The Text contains the documentation, ready to be parsed. "))

PREFIX(GenAllDoc,  tree,  "generate_all_doc",
       PARM(filename, text, "File name for the documentation"),
       RTAO(generateAllDoc(self, filename)),
       GROUP(documentation)
       SYNOPSIS("Generate all the documentation. ")
       DESCRIPTION("Extract the documentation from the context, "
                   "the primitive and the current document. "
                   "It writes the documentation into the specified files "
                   "if any. ")
       RETURNS(tree,
               "The Text contains the documentation, "
               "ready to be parsed. "))
PREFIX(ListFiles2, tree, "files", PARM(pat, tree, ""),
       RTAO(listFiles(context, self, pat)),
       GROUP(misc)
       SYNOPSIS("")
       DESCRIPTION("List regular files that match pattern. Examples of valid patterns: '*.jpg' '*/*.jpg' '/Users/john/*.jpg' '*.[jJ][pP][gG]'")
       RETURNS(tree, ""))
PREFIX(ListFiles3, tree, "list_files", PARM(pat, tree, ""),
       RTAO(listFiles(context, self, pat)),
       GROUP(misc)
       SYNOPSIS("")
       DESCRIPTION("List regular files that match pattern. Examples of valid patterns: '*.jpg' '*/*.jpg' '/Users/john/*.jpg' '*.[jJ][pP][gG]'")
       RETURNS(tree, ""))
PREFIX(TrAdd,  text,  "tr",
       PARM(from, text, "The english string")
       PARM(to, text, "The translation"),
       RTAO(xlTrAdd(self, from, to)),
       GROUP(i18n)
       SYNOPSIS("Add a translation into the translation map"))
PREFIX(Tr,  text,  "tr",
       PARM(t, text, "The string to translate"),
       RTAO(xlTr(self, t)),
       GROUP(i18n)
       SYNOPSIS("Translate a string into the current language")
       RETURNS(text, "The translated text."))

// ============================================================================
//
//   Module management
//
// ============================================================================

// May hide primitive: import "filename" (from xlr/basics.tbl)
// Not a problem because implementation takes care of the above syntax
PREFIX(ImportModule, tree, "import",
       PARM(m, tree, "Module file name"),
       return Tao::ModuleManager::import(context, self, m, true),
       GROUP(modules)
       SYNOPSIS("Import a module from a file"))
