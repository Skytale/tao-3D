How to setup a Tao build environment on Windows
===============================================

- Install Win7 x86
- Install the Qt SDK
- Install msysgit
  You should pick the "full installer" version to get a version of make,
  which will prove useful for building LLVM (LLVM wants gmake to build)
- Start msysgit's bash. cd $HOME. Create $HOME/.profile:
  export PATH=/c/llvm/bin:/c/Qt/2010.02.1/mingw/bin:/c/Qt/2010.02.1/qt/bin:$PATH
  (this is needed to use Qt's gcc rather than msysgit's ; and to have the Qt
  DLLs in the path to be able to run Tao)
- Git clone llvm
- Build llvm:
  * Patch lib/System/RWMutex.cpp : comment out lines 87 and 91 (asserts)
    (or apply llvm_mutex.patch)
    cd lib/System ; patch -p0 </path/to/llvm_mutex.patch
  * ./configure --prefix=/c/llvm --enable-optimized
  * make
  * make -k install
  * Patch llvm-config script
    cd /c/llvm/bin ; patch -p0 < llvm-config.patch
- git clone tao
- Configure Qt: append C:\llvm\bin;C:\msysgit\bin  (for llvm-config and bash)
	Build/Run qmake ; Build/Build all
- To run Tao:
  Project settings: set application current directory to tao source dir
  cp xl.syntax builtins.xl debug/
- To build the pakaging directory:
  - Make sure ldd.exe and cygwin1.dll are in your PATH (these files are from cygwin package "cygwin")
    (you may simply copy these files in <your Windows home directory>/bin)
  - Build Tao in release or debug mode, then:
    ./pkg.sh release
    or:
    ./pkg.sh   # debug by default

